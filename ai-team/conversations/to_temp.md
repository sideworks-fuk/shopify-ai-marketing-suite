以下が、優先4機能に特化したCursor向けテスト手順作成プロンプトです：

```
# Shopify ECマーケティングアプリ 優先機能テスト手順書作成

あなたはシニアQAエンジニアとして、以下の4つの重要機能に特化した詳細なテスト手順書を作成してください。

## 対象システム
- **技術スタック**: Next.js 14 + TypeScript + ASP.NET Core + Azure
- **認証**: Shopify OAuth + Session Tokens
- **課金**: Shopify Billing API

## 優先テスト対象機能

### 1. インストール機能
**重要度**: 最高（アプリの入り口）
**テスト範囲**:
- Shopify App Storeからのインストール
- OAuth認証フロー
- 初期設定画面の表示
- 権限許可の確認
- エラーハンドリング

### 2. データ同期機能
**重要度**: 最高（全機能の基盤）
**テスト範囲**:
- Shopify API連携
- 商品データ取得・同期
- 顧客データ取得・同期
- 注文データ取得・同期
- 差分更新・リアルタイム同期
- データ整合性確認

### 3. 課金機能
**重要度**: 最高（収益の基盤）
**テスト範囲**:
- Shopify Billing API連携
- プラン選択画面
- 課金承認フロー
- プラン変更・キャンセル
- 無料トライアル処理
- 課金エラー処理

### 4. 休眠顧客分析機能
**重要度**: 高（核心機能の代表）
**テスト範囲**:
- 休眠顧客定義・抽出ロジック
- 復帰予測アルゴリズム
- 分析結果表示・UI
- フィルタリング・ソート機能
- データエクスポート
- パフォーマンス確認

## 作成すべきテスト手順の詳細構成

### A. 環境セットアップ
```
テスト環境準備手順:
- Development Store作成手順
- アプリインストール準備
- テストデータ投入方法
- 課金テスト用設定
```

### B. 機能別詳細テストケース

#### 1. インストール機能テスト
```
1.1 正常インストールフロー
- [ ] App Storeからのインストール開始
- [ ] OAuth認証画面表示確認
- [ ] 必要権限の表示確認
- [ ] 認証完了後のリダイレクト確認
- [ ] 初期設定画面の表示確認
- [ ] アプリダッシュボードへの遷移確認

1.2 異常系・エラーハンドリング
- [ ] 認証拒否時の処理
- [ ] ネットワークエラー時の処理
- [ ] 既にインストール済み時の処理
- [ ] 権限不足時の処理

1.3 セキュリティ確認
- [ ] セッショントークン検証
- [ ] HTTPS通信確認
- [ ] セキュリティヘッダー確認
```

#### 2. データ同期機能テスト
```
2.1 初期データ同期
- [ ] 商品データの完全取得確認
- [ ] 顧客データの完全取得確認
- [ ] 注文データの完全取得確認
- [ ] データベースへの正確な保存確認
- [ ] 同期完了通知の確認

2.2 差分・増分同期
- [ ] 新規データの自動同期
- [ ] 更新データの差分同期
- [ ] 削除データの同期処理
- [ ] Webhook受信処理
- [ ] 同期エラー時のリトライ処理

2.3 データ整合性確認
- [ ] Shopifyデータとの一致確認
- [ ] データ型・フォーマット確認
- [ ] NULL値・空データ処理確認
- [ ] 大量データでの処理確認
```

#### 3. 課金機能テスト
```
3.1 プラン選択・課金開始
- [ ] プラン一覧表示確認
- [ ] プラン詳細表示確認
- [ ] 無料トライアル開始確認
- [ ] 課金承認画面表示確認
- [ ] 課金完了後の状態確認

3.2 課金管理機能
- [ ] 現在プラン表示確認
- [ ] 使用量・制限表示確認
- [ ] プラン変更機能確認
- [ ] キャンセル機能確認
- [ ] 請求履歴表示確認

3.3 課金エラーハンドリング
- [ ] 決済失敗時の処理
- [ ] プラン制限到達時の処理
- [ ] API呼び出し制限の処理
- [ ] 課金停止時のアプリ動作確認
```

#### 4. 休眠顧客分析機能テスト
```
4.1 休眠顧客抽出ロジック
- [ ] 休眠期間設定の動作確認
- [ ] 抽出条件の精度確認
- [ ] 除外条件の動作確認
- [ ] 抽出件数の妥当性確認

4.2 復帰予測機能
- [ ] 復帰可能性スコア算出確認
- [ ] スコアの妥当性検証
- [ ] 予測根拠の表示確認
- [ ] スコア更新頻度の確認

4.3 分析結果表示
- [ ] 一覧表示の正確性確認
- [ ] ソート・フィルター動作確認
- [ ] 詳細画面表示確認
- [ ] グラフ・チャート表示確認
- [ ] レスポンシブ表示確認

4.4 操作・エクスポート機能
- [ ] CSVエクスポート機能確認
- [ ] 期間指定機能確認
- [ ] 検索機能確認
- [ ] ページネーション確認
```

### C. 統合テストシナリオ
```
エンドツーエンドテスト:
1. アプリインストール
2. データ同期完了確認
3. 課金プラン選択
4. 休眠顧客分析実行
5. 結果確認・エクスポート
```

### D. パフォーマンステスト
```
- 大量データでの同期時間測定
- 分析処理の応答時間確認
- 同時ユーザーでの負荷テスト
- メモリ使用量監視
```

## 出力要件
1. **チェックリスト形式**: 各項目を□で実行管理可能
2. **具体的手順**: コマンド・URL・操作を明記
3. **期待結果明示**: 各テストの成功基準を明確化
4. **エラー対処法**: よくある問題の解決手順
5. **テストデータ**: 各機能で使用するサンプルデータ仕様

## 緊急度・優先度
**最優先**: インストール → データ同期 → 課金
**高優先**: 休眠顧客分析

この要件で、プロジェクト再開後即座に実行できる実用的なテスト手順書を作成してください。
```

このプロンプトにより、最重要な4機能に集中した効率的なテスト手順書が作成でき、プロジェクト再開時の品質確保と迅速な検証が可能になります。