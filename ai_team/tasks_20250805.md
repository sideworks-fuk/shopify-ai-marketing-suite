# 2025年8月5日（月）作業タスク詳細

作成日: 2025年8月4日 17:30  
作成者: Kenji（AI開発チームリーダー）

## 概要
Shopify App Store申請（8/8）に向けた重要作業日。インストール〜アンインストールの全体テストを最優先で実施します。

---

## Yukiさんへのタスク指示

### 1. インストール〜アンインストールテスト（フロントエンド側）
**優先度**: 最高  
**推定時間**: 3時間  
**開始時刻**: 9:00

#### 作業内容
1. **インストールフロー確認**
   - `/install`ページのUI/UX確認
   - OAuth認証画面への遷移確認
   - エラーハンドリング（権限不足、ネットワークエラー等）

2. **初期設定画面**
   - データ同期UI（CSVアップロード）の実装
   - アップロード進捗表示
   - エラー時のメッセージ表示

3. **メイン機能の動作確認**
   - 各分析画面でEC Rangerブランド表示確認
   - データが正しく表示されることを確認
   - パフォーマンス測定（特に休眠顧客分析）

4. **アンインストール確認**
   - アンインストール後のリダイレクト確認
   - エラーページの表示確認

#### 成果物
- テスト結果レポート（`/ai_team/test_results_frontend_20250805.md`）
- 発見した問題のリスト
- 修正が必要な箇所の優先順位付け

### 2. データ同期UI実装
**優先度**: 中  
**推定時間**: 2時間  
**開始時刻**: 14:00

#### 実装内容
```typescript
// 必要なコンポーネント
- CSVUploadComponent
  - ファイル選択UI
  - アップロード進捗バー
  - 成功/エラーメッセージ
  
- SyncStatusComponent  
  - 同期状態表示（待機中/同期中/完了/エラー）
  - 同期したレコード数表示
  - 再同期ボタン
```

### 3. TypeScriptエラー継続改善
**優先度**: 低  
**推定時間**: 1時間  
**開始時刻**: 16:00

#### 対象
- any型の削減
- 未使用変数の削除
- 型定義の厳密化

---

## Takashiさんへのタスク指示

### 1. インストール〜アンインストールテスト（バックエンド側）
**優先度**: 最高  
**推定時間**: 3時間  
**開始時刻**: 9:00

#### 作業内容
1. **Shopifyテストストア準備**
   - パートナーダッシュボードでテストストア作成
   - アプリのインストールURL生成
   - 必要なスコープの確認

2. **インストールフロー確認**
   - OAuth認証フロー全体の動作確認
   - アクセストークン取得確認
   - ストア情報の保存確認
   - Webhook登録確認

3. **データ同期テスト**
   - CSVインポートAPI動作確認
   - データベースへの保存確認
   - エラーハンドリング確認

4. **GDPR Webhookテスト**
   - アンインストール時のWebhook受信確認
   - DataCleanupServiceの動作確認
   - データ削除の確認（48時間後のスケジュール確認）

#### 成果物
- テスト結果レポート（`/ai_team/test_results_backend_20250805.md`）
- APIログの収集
- 修正が必要な箇所のリスト

### 2. Shopifyインストールリンク設定
**優先度**: 高  
**推定時間**: 1時間  
**開始時刻**: 13:00

#### 作業内容
1. パートナーダッシュボードでの設定
2. 本番用URLの設定
3. リダイレクトURLの確認
4. ドキュメント作成

### 3. データ同期API実装
**優先度**: 中  
**推定時間**: 2時間  
**開始時刻**: 14:00

#### 実装内容
```csharp
// 必要なエンドポイント
POST /api/sync/upload-csv
GET /api/sync/status/{storeId}
POST /api/sync/retry/{storeId}

// 実装機能
- CSVファイルの受信と検証
- バックグラウンドでのデータ処理
- 進捗状態の管理
- エラーハンドリングとリトライ
```

### 4. C#ビルドエラー修正
**優先度**: 高（ビルドブロッカー）  
**推定時間**: 30分  
**開始時刻**: 8:30

#### 修正内容
- DataCleanupService.cs の123行目、205行目
- string と long の型不一致を修正

---

## 福田さんのタスク

### 1. 全体進捗管理とサポート
**優先度**: 最高  
**時間**: 終日

#### 内容
1. **朝会実施**（9:00）
   - 本日の作業確認
   - 優先順位の共有
   - ブロッカーの確認

2. **テスト環境準備サポート**
   - Shopifyパートナーアカウントの確認
   - テストストアへのアクセス権限付与
   - 必要な認証情報の共有

3. **進捗モニタリング**
   - 定期的な進捗確認（11:00、14:00、17:00）
   - ブロッカーの即時解決
   - 優先順位の調整

### 2. 顧客コミュニケーション
**優先度**: 高  
**時間**: 適宜

#### 内容
1. **小野さんへの状況報告**
   - EC Ranger名称変更完了報告
   - GDPR対応完了報告
   - 8/8申請に向けた進捗共有

2. **未決事項の確認**
   - 価格設定の最終確認
   - サポート体制の決定
   - アプリアイコンの準備状況

### 3. 申請準備確認
**優先度**: 中  
**時間**: 16:00〜

#### チェックリスト
- [ ] 必須機能の実装状況
- [ ] ドキュメントの準備状況
- [ ] 法的文書の最終確認
- [ ] スクリーンショットの準備（小野さん確認）

---

## タイムライン

```
08:30 - Takashiさん: ビルドエラー修正
09:00 - 全員: 朝会
09:15 - Yuki & Takashi: インストール〜アンインストールテスト開始
11:00 - 福田さん: 進捗確認
12:00 - 昼休憩
13:00 - Takashiさん: Shopifyインストールリンク設定
14:00 - Yuki & Takashi: データ同期機能実装
16:00 - Yukiさん: TypeScript改善
16:00 - 福田さん: 申請準備確認
17:00 - 全員: 進捗共有と問題解決
18:00 - 本日の成果まとめ
```

---

## 成功基準

1. **インストール〜アンインストールが正常に動作する**
2. **重大なバグが0件**
3. **データ同期の基本機能が動作する**
4. **8/6に向けた課題が明確になる**

---

## リスクと対策

### リスク1: OAuth認証でエラー
**対策**: ngrokでのHTTPS環境確認、リダイレクトURL設定確認

### リスク2: GDPR Webhookが動作しない
**対策**: Webhook URLの確認、シークレットキーの設定確認

### リスク3: データ同期でタイムアウト
**対策**: バッチ処理の実装、進捗表示でUX改善

---

作成: Kenji（AI開発チームリーダー）