# Shopify ã‚¢ãƒ—ãƒªèªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡æ©Ÿèƒ½ å®Ÿè£…è¨ˆç”»æ›¸

## æ¦‚è¦

Shopify ã‚¢ãƒ—ãƒªèªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡æ©Ÿèƒ½ã®å®Ÿè£…è¨ˆç”»æ›¸ã§ã™ã€‚ç’°å¢ƒåˆ¥ã«èªè¨¼æ–¹å¼ã‚’å®‰å…¨ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã€Œ3æ®µéšèªè¨¼ãƒ¬ãƒ™ãƒ«åˆ¶å¾¡æ©Ÿèƒ½ã€ã‚’æ®µéšçš„ã«å®Ÿè£…ã—ã¾ã™ã€‚

**æœ€çµ‚æ›´æ–°æ—¥**: 2025å¹´10æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0ï¼ˆ3æ®µéšèªè¨¼ãƒ¬ãƒ™ãƒ«çµ±åˆç‰ˆï¼‰

---

## ğŸ¯ å®Ÿè£…ç›®æ¨™

### ä¸»è¦ç›®æ¨™
- æœ¬ç•ªç’°å¢ƒã§ã®OAuthèªè¨¼å¼·åˆ¶ï¼ˆLevel 3ã®ã¿ï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ã®ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰è¨±å¯ï¼ˆLevel 3 + Level 2ï¼‰
- é–‹ç™ºç’°å¢ƒã§ã®é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰è¨±å¯ï¼ˆLevel 3 + Level 2 + Level 1ï¼‰
- read_onlyã‚¯ãƒ¬ãƒ¼ãƒ ãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™å®Ÿè£…
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆNEXT_PUBLIC_DEV_PASSWORDï¼‰ã®å®Œå…¨å‰Šé™¤
- èªè¨¼ãƒ•ãƒ­ãƒ¼ã®çµ±ä¸€ã¨é‹ç”¨æ€§å‘ä¸Š

### æˆåŠŸåŸºæº–
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ãŒ100%è¡¨ç¤ºã•ã‚Œã‚‹
- ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ“ä½œãŒå®Œå…¨ã«ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ï¼ˆread_only: trueï¼‰
- é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ“ä½œãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ï¼ˆread_only: falseï¼‰
- é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã§/dev-bookmarksã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆcan_access_dev_tools: trueï¼‰
- NEXT_PUBLIC_DEV_PASSWORDãŒå®Œå…¨ã«å‰Šé™¤ã•ã‚Œã‚‹
- èªè¨¼ã‚¨ãƒ©ãƒ¼ç‡ã‚’10%ä»¥ä¸‹ã«å‰Šæ¸›
- èªè¨¼å‡¦ç†æ™‚é–“ã‚’3ç§’ä»¥å†…ã«çŸ­ç¸®

---

## ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Phase 0: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆå¿…é ˆãƒ»å®Ÿè£…å‰ï¼‰
**æœŸé–“**: å®Ÿè£…é–‹å§‹å‰ã«å®Œäº†å¿…é ˆ

#### ã‚¿ã‚¹ã‚¯0.1: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆ1æ—¥ï¼‰
- [ ] `NEXT_PUBLIC_DEV_PASSWORD` ã®ä½¿ç”¨ç®‡æ‰€ã‚’ç‰¹å®šã—å‰Šé™¤
- [ ] `NODE_ENV` vs `NEXT_PUBLIC_ENVIRONMENT` ã®ä½¿ç”¨ã‚’ç›£æŸ»ã—æ¨™æº–åŒ–
- [ ] `localStorage` ã¸ã®èªè¨¼æƒ…å ±ä¿å­˜ã‚’ç›£æŸ»
- [ ] ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã®èªè¨¼åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’ç‰¹å®š

#### ã‚¿ã‚¹ã‚¯0.2: CI/CDç’°å¢ƒå¤‰æ•°æ¤œè¨¼ï¼ˆ0.5æ—¥ï¼‰
- [ ] æœ¬ç•ªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ `NEXT_PUBLIC_AUTH_MODE=oauth_required` ã‚’ç¢ºèª
- [ ] ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ `NEXT_PUBLIC_AUTH_MODE=demo_allowed` ã‚’ç¢ºèª
- [ ] `NEXT_PUBLIC_DEV_PASSWORD` ãŒæ³¨å…¥ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª
- [ ] ç’°å¢ƒåˆ¥å¤‰æ•°ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

#### ã‚¿ã‚¹ã‚¯0.3: ã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ™‚ãƒã‚§ãƒƒã‚¯å®Ÿè£…ï¼ˆ0.5æ—¥ï¼‰
- [ ] æœ¬ç•ªç’°å¢ƒ + OAuthä»¥å¤–ã®ãƒ¢ãƒ¼ãƒ‰ â†’ èµ·å‹•å¤±æ•—
- [ ] å¿…é ˆç’°å¢ƒå¤‰æ•°ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯
- [ ] ãƒ›ã‚¹ãƒˆåæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
- [ ] èµ·å‹•æ™‚ãƒ­ã‚°å‡ºåŠ›ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯0.4: Shopify App Bridgeèªè¨¼è¨­è¨ˆï¼ˆ1æ—¥ï¼‰
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ã®è¨­è¨ˆ
- [ ] `Authorization` ãƒ˜ãƒƒãƒ€ãƒ¼çµŒç”±ã®ãƒˆãƒ¼ã‚¯ãƒ³é€ä¿¡è¨­è¨ˆ
- [ ] Cookieä¾å­˜ã®å®Œå…¨å‰Šé™¤
- [ ] ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®è¨­è¨ˆ

#### ã‚¿ã‚¹ã‚¯0.5: ã‚°ãƒ­ãƒ¼ãƒãƒ«èª­ã¿å–ã‚Šå°‚ç”¨ãƒãƒªã‚·ãƒ¼è¨­è¨ˆï¼ˆ1æ—¥ï¼‰
- [ ] `DemoReadOnlyFilter` ã®è¨­è¨ˆï¼ˆread_onlyã‚¯ãƒ¬ãƒ¼ãƒ ãƒ™ãƒ¼ã‚¹ï¼‰
- [ ] **é‡è¦**: auth_modeã§ã¯ãªãread_onlyã‚¯ãƒ¬ãƒ¼ãƒ ã§åˆ¤å®š
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§read_only: trueã®å ´åˆã«POST/PUT/PATCH/DELETEã‚’ãƒ–ãƒ­ãƒƒã‚¯
- [ ] `[AllowDemoWrite]` å±æ€§ã®è¨­è¨ˆï¼ˆä½¿ç”¨ç®‡æ‰€ã¯ã‚¼ãƒ­ã‚’ç›®æ¨™ï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®è¨­è¨ˆ

#### ã‚¿ã‚¹ã‚¯0.6: åˆ†æ•£ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­è¨ˆï¼ˆ1æ—¥ï¼‰
- [ ] Redis + Databaseæ§‹æˆã®è¨­è¨ˆ
- [ ] `IMemoryCache` ã‹ã‚‰ `IDistributedCache` ã¸ã®ç§»è¡Œè¨ˆç”»
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚¸ãƒ§ãƒ–ã®è¨­è¨ˆ
- [ ] ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆå¯¾å¿œã®æ¤œè¨¼

#### ã‚¿ã‚¹ã‚¯0.7: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ»ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹å¯¾ç­–è¨­è¨ˆï¼ˆ0.5æ—¥ï¼‰
- [ ] ãƒ‡ãƒ¢ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­è¨ˆ
- [ ] ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã®è¨­è¨ˆ
- [ ] å¤±æ•—è©¦è¡Œãƒ­ã‚°ã®è¨­è¨ˆï¼ˆå¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯è¨˜éŒ²ã—ãªã„ï¼‰
- [ ] IPåˆ¶é™ã®è¨­è¨ˆ

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´10æœˆ28æ—¥ - 2025å¹´11æœˆ1æ—¥

#### ã‚¿ã‚¹ã‚¯1.1: ç’°å¢ƒå¤‰æ•°è¨­è¨ˆãƒ»å®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã®å®šç¾©
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã®å®šç¾©
- [ ] ç’°å¢ƒåˆ¥è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯1.2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»å®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] èªè¨¼ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] ç’°å¢ƒè¨­å®šãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] EF Coreãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

#### ã‚¿ã‚¹ã‚¯1.3: èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthModeMiddlewareã®å®Ÿè£…ï¼ˆ3æ®µéšèªè¨¼ãƒ¬ãƒ™ãƒ«å¯¾å¿œï¼‰
- [ ] Level 3 (OAuth): auth_mode: 'oauth', read_only: false
- [ ] Level 2 (Demo): auth_mode: 'demo', read_only: true
- [ ] Level 1 (Developer): auth_mode: 'developer', read_only: false, can_access_dev_tools: true
- [ ] ç’°å¢ƒåˆ¥èªè¨¼åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯1.4: åŸºæœ¬ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ›´æ–°

### Phase 2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ4æ—¥ - 2025å¹´11æœˆ8æ—¥

#### ã‚¿ã‚¹ã‚¯2.1: èªè¨¼ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthenticationRequiredã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹ä¿®
- [ ] ç’°å¢ƒåˆ¥è¡¨ç¤ºåˆ¶å¾¡ã®å®Ÿè£…
- [ ] å‹•çš„ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒœã‚¿ãƒ³è¡¨ç¤ºã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.2: ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰æ©Ÿèƒ½å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] DeveloperModeBannerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.3: èªè¨¼ã‚¬ãƒ¼ãƒ‰å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthGuardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] èªè¨¼çŠ¶æ…‹ç®¡ç†ã®å®Ÿè£…
- [ ] ãƒ«ãƒ¼ãƒˆä¿è­·æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã®å®Ÿè£…
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

### Phase 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ11æ—¥ - 2025å¹´11æœˆ15æ—¥

#### ã‚¿ã‚¹ã‚¯3.1: ãƒ‡ãƒ¢èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] DemoAuthServiceã®å®Ÿè£…
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] JWTç”Ÿæˆæ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.2: ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] RequireOAuthAttributeã®å®Ÿè£…
- [ ] ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰åˆ¶é™æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¿è­·ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.3: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥ï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] APIãƒ†ã‚¹ãƒˆã®å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Phase 4: çµ±åˆãƒ»ãƒ†ã‚¹ãƒˆï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ18æ—¥ - 2025å¹´11æœˆ22æ—¥

#### ã‚¿ã‚¹ã‚¯4.1: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼ˆ2æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆ
- [ ] ç’°å¢ƒåˆ¥è¨­å®šã®é©ç”¨
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®šã®æ›´æ–°
- [ ] è¨­å®šç¢ºèªãƒ»èª¿æ•´

#### ã‚¿ã‚¹ã‚¯4.2: ç·åˆãƒ†ã‚¹ãƒˆï¼ˆ2æ—¥ï¼‰
- [ ] ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
- [ ] ç’°å¢ƒåˆ¥å‹•ä½œç¢ºèª
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

#### ã‚¿ã‚¹ã‚¯4.3: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ï¼ˆ1æ—¥ï¼‰
- [ ] å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°
- [ ] é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ä½œæˆ
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å®Ÿæ–½

---

## ğŸ› ï¸ å®Ÿè£…è©³ç´°

### 1. ç’°å¢ƒå¤‰æ•°å®Ÿè£…

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```typescript
// environments.ts
export const getEnvironmentConfig = () => {
  const environment = process.env.NEXT_PUBLIC_ENVIRONMENT || 'development'
  const authMode = process.env.NEXT_PUBLIC_AUTH_MODE || 'all_allowed'
  
  return {
    // ç’°å¢ƒè­˜åˆ¥ï¼ˆUIè¡¨ç¤ºç”¨ã®ã¿ï¼‰
    environment: environment as 'production' | 'staging' | 'development',
    
    // èªè¨¼ãƒ¢ãƒ¼ãƒ‰ï¼ˆUIè¡¨ç¤ºç”¨ã®ã¿ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¤å®šã«ã¯ä½¿ç”¨ã—ãªã„ï¼‰
    authMode: authMode as 'oauth_required' | 'demo_allowed' | 'all_allowed',
    
    // é–‹ç™ºãƒ„ãƒ¼ãƒ«è¨­å®š
    enableDevTools: process.env.NEXT_PUBLIC_ENABLE_DEV_TOOLS === 'true',
    debugMode: process.env.NEXT_PUBLIC_DEBUG_MODE === 'true'
  }
}

// ç’°å¢ƒå¤‰æ•°æ¤œè¨¼
export const validateEnvironmentConfig = () => {
  const config = getEnvironmentConfig()
  
  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯ç’°å¢ƒãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶å¾¡ã¯ã‚µãƒ¼ãƒãƒ¼å´ï¼‰
  if (config.environment === 'production' && config.authMode !== 'oauth_required') {
    console.warn('Warning: Production environment should use oauth_required mode')
  }
  
  return config
}

// å‰Šé™¤ã•ã‚ŒãŸå¤‰æ•°ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã®ãŸã‚ï¼‰:
// - NEXT_PUBLIC_DEV_PASSWORD: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’éœ²å‡ºã—ãªã„
// - NEXT_PUBLIC_DEMO_SESSION_TIMEOUT: ã‚µãƒ¼ãƒãƒ¼å´ã§ç®¡ç†
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```csharp
// appsettings.json
{
  "Environment": {
    "AllowedHostnames": ["production.example.com", "staging.example.com"]
  },
  "Authentication": {
    "Mode": "OAuthRequired", // OAuthRequired, DemoAllowed, AllAllowed
    "JwtSecret": "your-jwt-secret-key",
    "JwtExpiryHours": 24,
    "ShopifyApiKey": "your-shopify-api-key",
    "ShopifyApiSecret": "your-shopify-api-secret"
  },
  "Demo": {
    "Enabled": true,
    "PasswordHash": "$2a$10$...", // bcrypt hashï¼ˆå¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ä¿å­˜ã—ãªã„ï¼‰
    "SessionTimeoutHours": 1,
    "MaxSessionsPerUser": 5,
    "RateLimitPerIp": 5, // ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹å¯¾ç­–
    "LockoutThreshold": 10, // ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆé–¾å€¤
    "LockoutDurationMinutes": 30 // ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæœŸé–“
  },
  "Developer": {
    "Enabled": false, // é–‹ç™ºç’°å¢ƒã®ã¿true
    "PasswordHash": "$2a$10$...", // ãƒ‡ãƒ¢ã¨ã¯åˆ¥ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
    "SessionTimeoutHours": 8,
    "RateLimitPerIp": 10
  },
  "Session": {
    "StorageType": "Redis", // Redis or Databaseï¼ˆIMemoryCacheã¯ä½¿ç”¨ã—ãªã„ï¼‰
    "RedisConnectionString": "localhost:6379",
    "CleanupIntervalMinutes": 60
  },
  "Security": {
    "RequireHttps": true,
    "EnableCors": false,
    "AllowedOrigins": [],
    "RateLimitPerMinute": 100
  }
}

// ConfigurationExtensions.cs
public static class ConfigurationExtensions
{
    public static AuthConfig GetAuthConfig(this IConfiguration config)
    {
        return new AuthConfig
        {
            Mode = config["Authentication:Mode"] switch
            {
                "OAuthRequired" => AuthMode.OAuthRequired,
                "DemoAllowed" => AuthMode.DemoAllowed,
                "AllAllowed" => AuthMode.AllAllowed,
                _ => throw new InvalidOperationException("Invalid authentication mode")
            },
            JwtSecret = config["Authentication:JwtSecret"] 
                ?? throw new InvalidOperationException("JWT secret is required"),
            JwtExpiryHours = config.GetValue<int>("Authentication:JwtExpiryHours", 24)
        };
    }
}
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Ÿè£…

#### EF Coreã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```csharp
// DemoSession.cs
public class DemoSession
{
    public Guid Id { get; set; }
    public string SessionId { get; set; } = string.Empty;
    public DateTime CreatedAt { get; set; }
    public DateTime ExpiresAt { get; set; }
    public DateTime LastAccessedAt { get; set; }
    public bool IsActive { get; set; } = true;
    public string? CreatedBy { get; set; }
}

// AuthenticationLog.cs
public class AuthenticationLog
{
    public Guid Id { get; set; }
    public string? UserId { get; set; }
    public string AuthMode { get; set; } = string.Empty; // oauth, demo, dev
    public bool Success { get; set; }
    public string? FailureReason { get; set; }
    public string? IpAddress { get; set; }
    public string? UserAgent { get; set; }
    public DateTime CreatedAt { get; set; }
}

// DbContext
public class AuthDbContext : DbContext
{
    public AuthDbContext(DbContextOptions<AuthDbContext> options) : base(options) { }
    
    public DbSet<DemoSession> DemoSessions { get; set; }
    public DbSet<AuthenticationLog> AuthenticationLogs { get; set; }
    
    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<DemoSession>(entity =>
        {
            entity.HasKey(e => e.Id);
            entity.HasIndex(e => e.SessionId).IsUnique();
            entity.HasIndex(e => e.ExpiresAt);
        });
        
        modelBuilder.Entity<AuthenticationLog>(entity =>
        {
            entity.HasKey(e => e.Id);
            entity.HasIndex(e => e.CreatedAt);
            entity.HasIndex(e => e.AuthMode);
        });
    }
}
```

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```csharp
// 20251025_AddAuthModeControl.cs
public partial class AddAuthModeControl : Migration
{
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.CreateTable(
            name: "DemoSessions",
            columns: table => new
            {
                Id = table.Column<Guid>(type: "uniqueidentifier", nullable: false),
                SessionId = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: false),
                CreatedAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                ExpiresAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                LastAccessedAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                IsActive = table.Column<bool>(type: "bit", nullable: false),
                CreatedBy = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_DemoSessions", x => x.Id);
            });

        migrationBuilder.CreateIndex(
            name: "IX_DemoSessions_SessionId",
            table: "DemoSessions",
            column: "SessionId",
            unique: true);

        migrationBuilder.CreateIndex(
            name: "IX_DemoSessions_ExpiresAt",
            table: "DemoSessions",
            column: "ExpiresAt");

        migrationBuilder.CreateTable(
            name: "AuthenticationLogs",
            columns: table => new
            {
                Id = table.Column<Guid>(type: "uniqueidentifier", nullable: false),
                UserId = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true),
                AuthMode = table.Column<string>(type: "nvarchar(50)", maxLength: 50, nullable: false),
                Success = table.Column<bool>(type: "bit", nullable: false),
                FailureReason = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true),
                IpAddress = table.Column<string>(type: "nvarchar(45)", maxLength: 45, nullable: true),
                UserAgent = table.Column<string>(type: "nvarchar(500)", maxLength: 500, nullable: true),
                CreatedAt = table.Column<DateTime>(type: "datetime2", nullable: false)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_AuthenticationLogs", x => x.Id);
            });

        migrationBuilder.CreateIndex(
            name: "IX_AuthenticationLogs_CreatedAt",
            table: "AuthenticationLogs",
            column: "CreatedAt");

        migrationBuilder.CreateIndex(
            name: "IX_AuthenticationLogs_AuthMode",
            table: "AuthenticationLogs",
            column: "AuthMode");
    }

    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.DropTable(name: "AuthenticationLogs");
        migrationBuilder.DropTable(name: "DemoSessions");
    }
}
```

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

#### èªè¨¼ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// AuthenticationRequired.tsx
import { getEnvironmentConfig } from '@/lib/environments'

interface AuthenticationRequiredProps {
  hasShopParam?: boolean
  message?: string
  onShopifyAuth?: () => void
  onDemoAuth?: () => void
}

export const AuthenticationRequired: React.FC<AuthenticationRequiredProps> = ({
  hasShopParam = false,
  message,
  onShopifyAuth,
  onDemoAuth
}) => {
  const config = getEnvironmentConfig()
  
  // ç’°å¢ƒã«å¿œã˜ãŸã‚¿ã‚¤ãƒˆãƒ«
  const title = config.environment === 'production' 
    ? 'Shopifyèªè¨¼ãŒå¿…è¦ã§ã™' 
    : 'èªè¨¼ãŒå¿…è¦ã§ã™'
  
  // ç’°å¢ƒã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  const defaultMessage = config.environment === 'production'
    ? 'ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã¾ãŸã¯æœŸé™åˆ‡ã‚Œã§ã™ã€‚Shopifyèªè¨¼ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚'
    : 'ã“ã®ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯èªè¨¼ãŒå¿…è¦ã§ã™ã€‚'
  
  // ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯è¡¨ç¤ºåˆ¤å®š
  const showDemoLink = config.authMode !== 'oauth_required'
  
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <div className="max-w-md w-full space-y-8 p-8">
        <div className="text-center">
          <h1 className="text-2xl font-bold text-gray-900 mb-2">
            {title}
          </h1>
          <p className="text-gray-600 mb-6">
            {message ?? defaultMessage}
          </p>
        </div>
        
        {config.environment === 'production' && !hasShopParam ? (
          <ProductionGuidance />
        ) : (
          <AuthOptions 
            showOAuth={true}
            showDemo={showDemoLink}
            onShopifyAuth={onShopifyAuth}
            onDemoAuth={onDemoAuth}
            environment={config.environment}
          />
        )}
      </div>
    </div>
  )
}

// AuthOptions.tsx
interface AuthOptionsProps {
  showOAuth: boolean
  showDemo: boolean
  onShopifyAuth?: () => void
  onDemoAuth?: () => void
  environment: string
}

const AuthOptions: React.FC<AuthOptionsProps> = ({
  showOAuth,
  showDemo,
  onShopifyAuth,
  onDemoAuth,
  environment
}) => {
  return (
    <div className="space-y-4">
      {/* OAuthèªè¨¼ãƒœã‚¿ãƒ³ */}
      {showOAuth && (
        <div className="space-y-3">
          <Button 
            onClick={onShopifyAuth} 
            className="w-full"
            variant="default"
          >
            Shopifyã§èªè¨¼ã™ã‚‹
          </Button>
          {environment !== 'production' && (
            <p className="text-xs text-gray-500 text-center">
              ğŸ’¡ Shopify OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚
            </p>
          )}
        </div>
      )}
      
      {/* ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ */}
      {showDemo && (
        <div className="border-t pt-4">
          <div className="text-center mb-4">
            <h3 className="text-lg font-medium text-gray-900">
              ğŸ¯ ãƒ‡ãƒ¢ãƒ»ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨
            </h3>
            <p className="text-sm text-gray-600 mt-1">
              Shopifyèªè¨¼ãªã—ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã§ãã¾ã™ã€‚
            </p>
          </div>
          <Button 
            onClick={onDemoAuth}
            className="w-full"
            variant="outline"
          >
            ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã
          </Button>
          <p className="text-xs text-gray-500 text-center mt-2">
            â€» ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
          </p>
        </div>
      )}
    </div>
  )
}
```

#### ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ãƒãƒŠãƒ¼

```typescript
// DeveloperModeBanner.tsx
interface DeveloperModeBannerProps {
  sessionExpiresAt: Date
  onLogout: () => void
}

export const DeveloperModeBanner: React.FC<DeveloperModeBannerProps> = ({
  sessionExpiresAt,
  onLogout
}) => {
  const [timeRemaining, setTimeRemaining] = useState<number>(0)
  
  useEffect(() => {
    const updateTimer = () => {
      const remaining = Math.max(0, sessionExpiresAt.getTime() - Date.now())
      setTimeRemaining(Math.floor(remaining / 60000)) // åˆ†å˜ä½
    }
    
    updateTimer()
    const interval = setInterval(updateTimer, 1000)
    
    return () => clearInterval(interval)
  }, [sessionExpiresAt])
  
  const formatTime = (minutes: number) => {
    if (minutes <= 0) return 'æœŸé™åˆ‡ã‚Œ'
    if (minutes < 60) return `${minutes}åˆ†`
    const hours = Math.floor(minutes / 60)
    const mins = minutes % 60
    return `${hours}æ™‚é–“${mins}åˆ†`
  }
  
  return (
    <div className="bg-yellow-50 border-l-4 border-yellow-400 p-4">
      <div className="flex items-center justify-between">
        <div className="flex items-center">
          <div className="flex-shrink-0">
            <ExclamationTriangleIcon className="h-5 w-5 text-yellow-400" />
          </div>
          <div className="ml-3">
            <p className="text-sm text-yellow-700">
              <span className="font-medium">é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«æœ‰åŠ¹</span>
              <span className="ml-2">ï¼ˆãƒ‡ãƒ¼ã‚¿é–²è¦§å°‚ç”¨ãƒ¢ãƒ¼ãƒ‰ï¼‰</span>
            </p>
            <p className="text-xs text-yellow-600 mt-1">
              ã‚»ãƒƒã‚·ãƒ§ãƒ³æ®‹ã‚Š: {formatTime(timeRemaining)}
            </p>
          </div>
        </div>
        <Button
          onClick={onLogout}
          size="sm"
          variant="outline"
          className="text-yellow-700 border-yellow-300 hover:bg-yellow-100"
        >
          ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        </Button>
      </div>
    </div>
  )
}
```

### 4. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…

#### èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

```csharp
// AuthModeMiddleware.cs
public class AuthModeMiddleware
{
    private readonly RequestDelegate _next;
    private readonly IConfiguration _config;
    private readonly ILogger<AuthModeMiddleware> _logger;
    private readonly IHostEnvironment _env;

    public AuthModeMiddleware(
        RequestDelegate next, 
        IConfiguration config, 
        ILogger<AuthModeMiddleware> logger,
        IHostEnvironment env)
    {
        _next = next;
        _config = config;
        _logger = logger;
        _env = env;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        var authMode = _config["Authentication:Mode"];
        var environment = _env.EnvironmentName;
        
        // èµ·å‹•æ™‚ç’°å¢ƒãƒã‚§ãƒƒã‚¯ï¼ˆæœ¬ç•ªç’°å¢ƒå®‰å…¨å¼ï¼‰
        if (environment == "Production" && authMode != "OAuthRequired")
        {
            _logger.LogCritical("SECURITY: Invalid authentication mode for production environment");
            context.Response.StatusCode = 500;
            await context.Response.WriteAsJsonAsync(new 
            { 
                error = "Configuration Error",
                message = "Production environment must use OAuthRequired mode"
            });
            return;
        }
        
        // ãƒ›ã‚¹ãƒˆåæ¤œè¨¼
        var allowedHostnames = _config.GetSection("Environment:AllowedHostnames").Get<string[]>();
        if (allowedHostnames?.Length > 0)
        {
            var hostname = context.Request.Host.Host;
            if (!allowedHostnames.Contains(hostname))
            {
                _logger.LogWarning("Request from unauthorized hostname: {Hostname}", hostname);
            }
        }
        
        // Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ï¼ˆCookieã§ã¯ãªãï¼‰
        var authHeader = context.Request.Headers["Authorization"].FirstOrDefault();
        string token = null;
        
        if (!string.IsNullOrEmpty(authHeader) && authHeader.StartsWith("Bearer "))
        {
            token = authHeader.Substring("Bearer ".Length).Trim();
        }
        
        bool isOAuthValid = false;
        bool isDemoValid = false;
        
        if (!string.IsNullOrEmpty(token))
        {
            // Shopify App Bridgeã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼
            isOAuthValid = await ValidateShopifySessionTokenAsync(token);
            
            // ãƒ‡ãƒ¢ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼
            if (!isOAuthValid)
            {
                isDemoValid = await ValidateDemoTokenAsync(token);
            }
        }
        
        // èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¥ã®å‡¦ç†ï¼ˆã‚µãƒ¼ãƒãƒ¼å´è¨­å®šã®ã¿ã‚’ä¿¡é ¼ï¼‰
        switch (authMode)
        {
            case "OAuthRequired":
                if (!isOAuthValid)
                {
                    context.Response.StatusCode = 401;
                    await context.Response.WriteAsJsonAsync(new 
                    { 
                        error = "Unauthorized",
                        message = "OAuth authentication required"
                    });
                    return;
                }
                break;
                
            case "DemoAllowed":
                if (!isOAuthValid && !isDemoValid)
                {
                    context.Response.StatusCode = 401;
                    await context.Response.WriteAsJsonAsync(new 
                    { 
                        error = "Unauthorized",
                        message = "OAuth or demo authentication required"
                    });
                    return;
                }
                break;
                
            case "AllAllowed":
                // ã™ã¹ã¦ã®èªè¨¼æ–¹å¼ã‚’è¨±å¯ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
                break;
        }
        
        // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰æ™‚ã®åˆ¶é™è¨­å®šï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ã«è¿½åŠ ï¼‰
        if (isDemoValid && !isOAuthValid)
        {
            context.Items["AuthMode"] = "Demo";
            context.Items["IsReadOnly"] = true;
            
            // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’è¨­å®š
            var claims = new List<Claim>
            {
                new Claim("auth_mode", "demo"),
                new Claim("read_only", "true")
            };
            context.User = new ClaimsPrincipal(new ClaimsIdentity(claims, "Demo"));
        }
        else if (isOAuthValid)
        {
            context.Items["AuthMode"] = "OAuth";
            context.Items["IsReadOnly"] = false;
        }
        
        await _next(context);
    }
    
    private async Task<bool> ValidateShopifySessionTokenAsync(string token)
    {
        // Shopify App Bridgeã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼
        // JWTç½²åæ¤œè¨¼ã€æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯ã€ã‚·ãƒ§ãƒƒãƒ—ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼
        // å®Ÿè£…è©³ç´°ã¯çœç•¥
        return await Task.FromResult(true); // å®Ÿè£…æ™‚ã«é©åˆ‡ãªæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ 
    }
    
    private async Task<bool> ValidateDemoTokenAsync(string token)
    {
        // ãƒ‡ãƒ¢ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼
        // å®Ÿè£…è©³ç´°ã¯çœç•¥
        return await Task.FromResult(false);
    }
}

// AuthResult.cs
public class AuthResult
{
    public bool IsAuthenticated { get; set; }
    public string AuthMode { get; set; } = string.Empty;
    public bool IsDemoMode { get; set; }
}
```

#### ãƒ‡ãƒ¢èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹

```csharp
// DemoAuthService.cs
public class DemoAuthService
{
    private readonly IConfiguration _config;
    private readonly IDistributedCache _distributedCache; // IMemoryCacheã§ã¯ãªãIDistributedCache
    private readonly ILogger<DemoAuthService> _logger;
    private readonly IRateLimiter _rateLimiter;
    private readonly ApplicationDbContext _dbContext;

    public DemoAuthService(
        IConfiguration config,
        IDistributedCache distributedCache,
        ILogger<DemoAuthService> logger,
        IRateLimiter rateLimiter,
        ApplicationDbContext dbContext)
    {
        _config = config;
        _distributedCache = distributedCache;
        _logger = logger;
        _rateLimiter = rateLimiter;
        _dbContext = dbContext;
    }

    public async Task<DemoAuthResult> AuthenticateAsync(string password, string ipAddress)
    {
        // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹å¯¾ç­–ï¼‰
        var rateLimitKey = $"demo_auth_rate_{ipAddress}";
        var attempts = await _rateLimiter.GetAttemptsAsync(rateLimitKey);
        var maxAttempts = _config.GetValue<int>("Demo:RateLimitPerIp");
        
        if (attempts >= maxAttempts)
        {
            _logger.LogWarning("Rate limit exceeded for IP: {IpAddress}", ipAddress);
            return new DemoAuthResult 
            { 
                Success = false,
                Error = "Too many attempts. Please try again later."
            };
        }
        
        // ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãƒã‚§ãƒƒã‚¯
        var lockoutKey = $"demo_auth_lockout_{ipAddress}";
        var isLockedOut = await _distributedCache.GetStringAsync(lockoutKey);
        
        if (!string.IsNullOrEmpty(isLockedOut))
        {
            _logger.LogWarning("Locked out IP attempting login: {IpAddress}", ipAddress);
            return new DemoAuthResult 
            { 
                Success = false,
                Error = "Account temporarily locked. Please try again later."
            };
        }
        
        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
        var hashedPassword = _config["Demo:PasswordHash"];
        var isValid = BCrypt.Verify(password, hashedPassword);
        
        if (!isValid)
        {
            // å¤±æ•—è©¦è¡Œã‚’è¨˜éŒ²ï¼ˆå¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯è¨˜éŒ²ã—ãªã„ï¼‰
            await _rateLimiter.IncrementAsync(rateLimitKey);
            
            var failedAttempts = await _rateLimiter.GetAttemptsAsync(rateLimitKey);
            var lockoutThreshold = _config.GetValue<int>("Demo:LockoutThreshold");
            
            // ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆé–¾å€¤ã«é”ã—ãŸå ´åˆ
            if (failedAttempts >= lockoutThreshold)
            {
                var lockoutDuration = TimeSpan.FromMinutes(
                    _config.GetValue<int>("Demo:LockoutDurationMinutes")
                );
                await _distributedCache.SetStringAsync(lockoutKey, "locked", 
                    new DistributedCacheEntryOptions { AbsoluteExpirationRelativeToNow = lockoutDuration });
                
                _logger.LogWarning("IP locked out due to failed attempts: {IpAddress}", ipAddress);
            }
            
            _logger.LogWarning("Invalid demo password attempt from IP: {IpAddress}", ipAddress);
            
            // èªè¨¼ãƒ­ã‚°ã«è¨˜éŒ²
            await LogAuthenticationAttemptAsync(ipAddress, "demo", false, "Invalid password");
            
            return new DemoAuthResult { Success = false, Error = "Invalid password" };
        }
        
        // ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
        var sessionId = Guid.NewGuid().ToString();
        var expiresAt = DateTime.UtcNow.AddHours(
            _config.GetValue<int>("Demo:SessionTimeoutHours")
        );
        
        var session = new DemoSession
        {
            Id = Guid.NewGuid(),
            SessionId = sessionId,
            ExpiresAt = expiresAt,
            CreatedAt = DateTime.UtcNow,
            LastAccessedAt = DateTime.UtcNow,
            IsActive = true,
            CreatedBy = ipAddress
        };
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ï¼ˆåˆ†æ•£ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
        _dbContext.DemoSessions.Add(session);
        await _dbContext.SaveChangesAsync();
        
        // Redisã«ã‚‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆé«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹ç”¨ï¼‰
        var cacheOptions = new DistributedCacheEntryOptions
        {
            AbsoluteExpiration = expiresAt
        };
        await _distributedCache.SetStringAsync(
            $"demo_session_{sessionId}", 
            JsonSerializer.Serialize(session),
            cacheOptions
        );
        
        // ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
        var token = GenerateDemoToken(session);
        
        // æˆåŠŸãƒ­ã‚°è¨˜éŒ²
        await LogAuthenticationAttemptAsync(ipAddress, "demo", true, null);
        
        // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
        await _rateLimiter.ResetAsync(rateLimitKey);
        
        return new DemoAuthResult
        {
            Success = true,
            Token = token,
            ExpiresAt = expiresAt
        };
    }
    
    private string GenerateDemoToken(DemoSession session)
    {
        var tokenHandler = new JwtSecurityTokenHandler();
        var key = Encoding.ASCII.GetBytes(_config["Authentication:JwtSecret"]);
        
        var tokenDescriptor = new SecurityTokenDescriptor
        {
            Subject = new ClaimsIdentity(new[]
            {
                new Claim("session_id", session.SessionId),
                new Claim("auth_mode", "demo"),
                new Claim("read_only", "true"), // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã¯èª­ã¿å–ã‚Šå°‚ç”¨
                new Claim("expires_at", session.ExpiresAt.ToString("O"))
            }),
            Expires = session.ExpiresAt,
            SigningCredentials = new SigningCredentials(
                new SymmetricSecurityKey(key), 
                SecurityAlgorithms.HmacSha256Signature
            )
        };
        
        var token = tokenHandler.CreateToken(tokenDescriptor);
        return tokenHandler.WriteToken(token);
    }
    
    private async Task LogAuthenticationAttemptAsync(string ipAddress, string authMode, bool success, string failureReason)
    {
        var log = new AuthenticationLog
        {
            Id = Guid.NewGuid(),
            AuthMode = authMode,
            Success = success,
            FailureReason = failureReason,
            IpAddress = ipAddress,
            CreatedAt = DateTime.UtcNow
        };
        
        _dbContext.AuthenticationLogs.Add(log);
        await _dbContext.SaveChangesAsync();
    }
}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè£…

### å˜ä½“ãƒ†ã‚¹ãƒˆ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```typescript
// AuthenticationRequired.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { AuthenticationRequired } from './AuthenticationRequired'

// ãƒ¢ãƒƒã‚¯è¨­å®š
jest.mock('@/lib/environments', () => ({
  getEnvironmentConfig: jest.fn()
}))

describe('AuthenticationRequired', () => {
  beforeEach(() => {
    jest.clearAllMocks()
  })
  
  it('should show Shopify title in production', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'production',
      authMode: 'oauth_required'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.getByText('Shopifyèªè¨¼ãŒå¿…è¦ã§ã™')).toBeInTheDocument()
  })
  
  it('should show demo link in staging', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'staging',
      authMode: 'demo_allowed'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.getByText('ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã')).toBeInTheDocument()
  })
  
  it('should not show demo link in production', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'production',
      authMode: 'oauth_required'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.queryByText('ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã')).not.toBeInTheDocument()
  })
})
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```csharp
// AuthModeMiddlewareTests.cs
[TestFixture]
public class AuthModeMiddlewareTests
{
    private Mock<RequestDelegate> _mockNext;
    private Mock<IConfiguration> _mockConfig;
    private Mock<ILogger<AuthModeMiddleware>> _mockLogger;
    private Mock<IMemoryCache> _mockCache;
    private AuthModeMiddleware _middleware;

    [SetUp]
    public void Setup()
    {
        _mockNext = new Mock<RequestDelegate>();
        _mockConfig = new Mock<IConfiguration>();
        _mockLogger = new Mock<ILogger<AuthModeMiddleware>>();
        _mockCache = new Mock<IMemoryCache>();
        
        _middleware = new AuthModeMiddleware(
            _mockNext.Object, 
            _mockConfig.Object, 
            _mockLogger.Object,
            _mockCache.Object
        );
    }

    [Test]
    public async Task InvokeAsync_ProductionWithDemoMode_ShouldReturn500()
    {
        // Arrange
        _mockConfig.Setup(c => c["Environment"]).Returns("Production");
        _mockConfig.Setup(c => c["Authentication:Mode"]).Returns("DemoAllowed");
        
        var context = new DefaultHttpContext();
        context.Response.Body = new MemoryStream();
        
        // Act
        await _middleware.InvokeAsync(context);
        
        // Assert
        Assert.AreEqual(500, context.Response.StatusCode);
    }

    [Test]
    public async Task InvokeAsync_ValidOAuthToken_ShouldCallNext()
    {
        // Arrange
        _mockConfig.Setup(c => c["Environment"]).Returns("Development");
        _mockConfig.Setup(c => c["Authentication:Mode"]).Returns("AllAllowed");
        
        var context = new DefaultHttpContext();
        context.Request.Cookies = new RequestCookieCollection(new Dictionary<string, string>
        {
            ["shopify_oauth_token"] = "valid-token"
        });
        
        // Act
        await _middleware.InvokeAsync(context);
        
        // Assert
        _mockNext.Verify(n => n(context), Times.Once);
    }
}
```

### çµ±åˆãƒ†ã‚¹ãƒˆ

```csharp
// AuthenticationIntegrationTests.cs
[TestFixture]
public class AuthenticationIntegrationTests
{
    private WebApplicationFactory<Program> _factory;
    private HttpClient _client;

    [SetUp]
    public void Setup()
    {
        _factory = new WebApplicationFactory<Program>()
            .WithWebHostBuilder(builder =>
            {
                builder.ConfigureServices(services =>
                {
                    // ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®š
                    services.Configure<AuthConfig>(config =>
                    {
                        config.Mode = AuthMode.DemoAllowed;
                        config.JwtSecret = "test-secret-key";
                    });
                });
            });
        
        _client = _factory.CreateClient();
    }

    [Test]
    public async Task DemoMode_ShouldRestrictShopifyApiAccess()
    {
        // Arrange
        var demoToken = await GetDemoTokenAsync();
        _client.DefaultRequestHeaders.Authorization = 
            new AuthenticationHeaderValue("Bearer", demoToken);
        
        // Act
        var response = await _client.GetAsync("/api/shopify/orders");
        
        // Assert
        Assert.AreEqual(HttpStatusCode.Forbidden, response.StatusCode);
        var content = await response.Content.ReadAsStringAsync();
        Assert.Contains("Forbidden in demo mode", content);
    }

    [Test]
    public async Task OAuthMode_ShouldAllowShopifyApiAccess()
    {
        // Arrange
        var oauthToken = await GetOAuthTokenAsync();
        _client.DefaultRequestHeaders.Authorization = 
            new AuthenticationHeaderValue("Bearer", oauthToken);
        
        // Act
        var response = await _client.GetAsync("/api/shopify/orders");
        
        // Assert
        Assert.AreEqual(HttpStatusCode.OK, response.StatusCode);
    }

    private async Task<string> GetDemoTokenAsync()
    {
        var response = await _client.PostAsJsonAsync("/api/auth/demo", new
        {
            password = "test-password"
        });
        
        var result = await response.Content.ReadFromJsonAsync<DemoAuthResult>();
        return result!.Token;
    }
}
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨ˆç”»

### ç’°å¢ƒåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

#### 1. é–‹ç™ºç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=development
export NEXT_PUBLIC_AUTH_MODE=all_allowed
export NEXT_PUBLIC_DEV_PASSWORD=dev123

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
npm run dev
dotnet run
```

#### 2. ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=staging
export NEXT_PUBLIC_AUTH_MODE=demo_allowed
export NEXT_PUBLIC_DEV_PASSWORD=staging-demo-password

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update --environment Staging

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
dotnet publish -c Release
```

#### 3. æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=production
export NEXT_PUBLIC_AUTH_MODE=oauth_required
export NEXT_PUBLIC_ENABLE_DEV_TOOLS=false

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update --environment Production

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
dotnet publish -c Release
```

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

#### ç·Šæ€¥æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
1. **è¨­å®šå¤‰æ›´**: ç’°å¢ƒå¤‰æ•°ã‚’å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™
2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•**: è¨­å®šå¤‰æ›´ã‚’åæ˜ 
3. **å‹•ä½œç¢ºèª**: åŸºæœ¬æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: å¿…è¦ã«å¿œã˜ã¦ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### æ®µéšçš„ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
1. **æ©Ÿèƒ½ç„¡åŠ¹åŒ–**: å•é¡Œã®ã‚ã‚‹æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–
2. **éƒ¨åˆ†ä¿®æ­£**: å•é¡Œç®‡æ‰€ã®ã¿ã‚’ä¿®æ­£
3. **æ®µéšçš„å¾©æ—§**: æ©Ÿèƒ½ã‚’æ®µéšçš„ã«å¾©æ—§
4. **å®Œå…¨å¾©æ—§**: å…¨æ©Ÿèƒ½ã®å¾©æ—§ç¢ºèª

---

## ğŸ“Š æˆåŠŸæŒ‡æ¨™ãƒ»KPI

### å®šé‡çš„æŒ‡æ¨™

| æŒ‡æ¨™ | ç¾åœ¨å€¤ | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|------|--------|--------|----------|
| ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãƒ‡ãƒ¢ãƒªãƒ³ã‚¯è¡¨ç¤ºç‡ | 0% | 100% | æ‰‹å‹•ç¢ºèª |
| èªè¨¼ã‚¨ãƒ©ãƒ¼ç‡ | 100% | 10%ä»¥ä¸‹ | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åˆ†æ |
| ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é•å | æœªæ¸¬å®š | 0ä»¶ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» |
| èªè¨¼å‡¦ç†æ™‚é–“ | æœªæ¸¬å®š | 3ç§’ä»¥å†… | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç²¾åº¦ | æœªæ¸¬å®š | 99%ä»¥ä¸Š | ã‚»ãƒƒã‚·ãƒ§ãƒ³è¿½è·¡ |

### å®šæ€§çš„æŒ‡æ¨™

| æŒ‡æ¨™ | è©•ä¾¡æ–¹æ³• | ç›®æ¨™ |
|------|----------|------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ | ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆèª¿æŸ» | 4.0/5.0ä»¥ä¸Š |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ« | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» | å‘ä¸Š |
| é‹ç”¨åŠ¹ç‡ | è¦³å¯Ÿãƒ»è¨˜éŒ² | å‘ä¸Š |
| é–‹ç™ºåŠ¹ç‡ | é–‹ç™ºè€…ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ | å‘ä¸Š |

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [è¦ä»¶å®šç¾©æ›¸](../01-requirements/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-è¦ä»¶å®šç¾©.md)
- [è¨­è¨ˆæ›¸](../02-design/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-è¨­è¨ˆæ›¸.md)
- [ãƒ†ã‚¹ãƒˆè¨ˆç”»æ›¸](../04-review/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-ãƒ†ã‚¹ãƒˆè¨ˆç”».md)

### æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [èªè¨¼ãƒ¢ãƒ¼ãƒ‰ä¸€è¦§](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/èªè¨¼ãƒ¢ãƒ¼ãƒ‰ä¸€è¦§.md)
- [èªè¨¼ç”»é¢è¡¨ç¤ºä»•æ§˜](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/èªè¨¼ç”»é¢è¡¨ç¤ºä»•æ§˜.md)
- [ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ.md)

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | å†…å®¹ | æ‹…å½“è€… |
|------|------|--------|
| 2025-10-25 | åˆç‰ˆä½œæˆ | Kenji |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ25æ—¥  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼**: 2025å¹´11æœˆ1æ—¥ï¼ˆé€±æ¬¡ï¼‰
