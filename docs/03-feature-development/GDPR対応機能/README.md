# GDPRå¯¾å¿œæ©Ÿèƒ½

**ä½œæˆæ—¥**: 2025-12-31
**ä½œæˆè€…**: ç¦ç”° + AI Assistant
**ç›®çš„**: Shopifyå…¬é–‹ã‚¢ãƒ—ãƒªç”³è«‹ã«å¿…é ˆã®GDPRå¯¾å¿œã‚’å®Œäº†ã•ã›ã‚‹

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | æ¦‚è¦ | å¯¾è±¡èª­è€… |
|----------|------|---------|
| [è¦ä»¶å®šç¾©.md](./è¦ä»¶å®šç¾©.md) | Shopifyå…¬é–‹ã‚¢ãƒ—ãƒªã®GDPRè¦ä»¶ | ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| [å®Ÿè£…çŠ¶æ³ãƒ¬ãƒ“ãƒ¥ãƒ¼.md](./å®Ÿè£…çŠ¶æ³ãƒ¬ãƒ“ãƒ¥ãƒ¼.md) | ç¾çŠ¶ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ | ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| [å¯¾å¿œä½œæ¥­ãƒªã‚¹ãƒˆ.md](./å¯¾å¿œä½œæ¥­ãƒªã‚¹ãƒˆ.md) | æ®‹ä½œæ¥­ã¨å„ªå…ˆåº¦ | ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| [ãƒ†ã‚¹ãƒˆè¨ˆç”».md](./ãƒ†ã‚¹ãƒˆè¨ˆç”».md) | E2Eæ¤œè¨¼è¨ˆç”»ã¨è¨¼è·¡å–å¾—æ–¹æ³• | ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| [E2Eãƒ†ã‚¹ãƒˆæ‰‹é †æ›¸.md](./E2Eãƒ†ã‚¹ãƒˆæ‰‹é †æ›¸.md) | **Postman/PowerShellãƒ†ã‚¹ãƒˆæ‰‹é †** | ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| [ãƒ“ã‚¸ãƒã‚¹å‘ã‘è§£èª¬.md](./ãƒ“ã‚¸ãƒã‚¹å‘ã‘è§£èª¬.md) | éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã®GDPRè§£èª¬ | **ãƒ“ã‚¸ãƒã‚¹ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** |

### ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | æ¦‚è¦ |
|----------|------|
| [scripts/Test-GDPRWebhooks.ps1](./scripts/Test-GDPRWebhooks.ps1) | PowerShellç‰ˆè‡ªå‹•ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ |

## ã‚¯ã‚¤ãƒƒã‚¯ã‚µãƒãƒªãƒ¼

### ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

ğŸŸ¢ **99%å®Œäº†** - å®Ÿè£…å®Œäº†ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã¨E2Eãƒ†ã‚¹ãƒˆã®ã¿æ®‹ã£ã¦ã„ã‚‹ï¼ˆ2025-12-31æ›´æ–°ï¼‰

| ã‚«ãƒ†ã‚´ãƒª | å®Œäº†åº¦ | æ®‹ä½œæ¥­ |
|---------|--------|--------|
| å¿…é ˆWebhookå®Ÿè£… | âœ… 100% | ãªã— |
| HMACæ¤œè¨¼ | âœ… 100% | ~~ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢äºŒé‡æ¤œè¨¼å•é¡Œ~~ **ä¿®æ­£æ¸ˆã¿** |
| å³æ™‚200å¿œç­” | âœ… 100% | ãªã— |
| å†ªç­‰åŒ–å‡¦ç† | âœ… 100% | ãªã— |
| æœ¬ç•ªå‰Šé™¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | âœ… 100% | ~~Hangfireã‚¸ãƒ§ãƒ–å®Ÿè£…~~ **å®Ÿè£…æ¸ˆã¿** |
| DBãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ | âœ… 100% | ~~æœªç¢ºèª~~ **è¿½åŠ æ¸ˆã¿** |
| E2Eãƒ†ã‚¹ãƒˆ | ğŸ”´ 0% | å…¨ã¦æœªå®Ÿæ–½ |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ğŸŸ¡ 80% | æ³•çš„æ–‡æ›¸ã®è‹±èªç‰ˆ |

### æœ€å„ªå…ˆå¯¾å¿œäº‹é …ï¼ˆç”³è«‹ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ï¼‰

1. ~~**HMACæ¤œè¨¼ã®ä¿®æ­£**~~ âœ… **å®Œäº† (2025-12-31)**
2. ~~**æœ¬ç•ªå‰Šé™¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°å®Œäº†**~~ âœ… **å®Œäº† (2025-12-31)**
3. **ãƒ‡ãƒ—ãƒ­ã‚¤** - Staging/Productionç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ + ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
4. **E2Eæ¤œè¨¼ã®å®Ÿæ–½** - 4æ™‚é–“

## Shopifyç”³è«‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆWebhookï¼ˆ3ç¨®ï¼‰

| Webhook | ç›®çš„ | ç¾çŠ¶ |
|---------|------|------|
| `customers/data_request` | é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¦æ±‚ | âœ… å®Ÿè£…æ¸ˆã¿ |
| `customers/redact` | é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤è¦æ±‚ | âœ… å®Ÿè£…æ¸ˆã¿ |
| `shop/redact` | ã‚¹ãƒˆã‚¢ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤è¦æ±‚ï¼ˆã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œ48æ™‚é–“ï¼‰ | âœ… å®Ÿè£…æ¸ˆã¿ |

### é–¢é€£Webhook

| Webhook | ç›®çš„ | ç¾çŠ¶ |
|---------|------|------|
| `app/uninstalled` | ã‚¢ãƒ—ãƒªã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€šçŸ¥ | âœ… å®Ÿè£…æ¸ˆã¿ |

### ç¢ºèªãƒã‚¤ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

| # | ç¢ºèªãƒã‚¤ãƒ³ãƒˆ | ç¾çŠ¶ | å¯¾å¿œ |
|---|-------------|------|------|
| 1 | Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®Ÿè£… | âœ… å®Œäº† | - |
| 2 | HMACç½²åæ¤œè¨¼ã®å®Ÿè£… | âœ… å®Œäº† | ~~äºŒé‡æ¤œè¨¼å•é¡Œ~~ **ä¿®æ­£æ¸ˆã¿** |
| 3 | ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£… | âœ… å®Œäº† | - |
| 4 | **Shopify Partners Dashboardã§ã®Webhook URLè¨­å®š** | â“ è¦ç¢ºèª | ä¸‹è¨˜å‚ç…§ |
| 5 | **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼URLã®è¨­å®š** | â“ è¦ç¢ºèª | ä¸‹è¨˜å‚ç…§ |
| 6 | æœ¬ç•ªå‰Šé™¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚° | âœ… å®Œäº† | ~~Hangfireå®Ÿè£…~~ **å®Ÿè£…æ¸ˆã¿** |

### Shopify Partners Dashboardè¨­å®š

GDPR Webhookã¯**ã‚¢ãƒ—ãƒªè¨­å®šã§ã¯ãªããƒ—ãƒ­ã‚°ãƒ©ãƒ çµŒç”±ã§ç™»éŒ²**ã—ã¾ã™ã€‚ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€OAuthèªè¨¼å®Œäº†æ™‚ã« `RegisterWebhooks()` ãƒ¡ã‚½ãƒƒãƒ‰ã§è‡ªå‹•ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚

**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼URLè¨­å®šæ‰‹é †**:
1. Shopify Partners Dashboard â†’ ã‚¢ãƒ—ãƒªé¸æŠ
2. ã€ŒConfigurationã€ã¾ãŸã¯ã€ŒApp setupã€
3. ã€ŒApp URLsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä»¥ä¸‹ã‚’è¨­å®š:
   - Privacy policy URL
   - Terms of service URLï¼ˆä»»æ„ï¼‰

## å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆShopify.devï¼‰

> âš ï¸ **æ³¨æ„**: Shopifyã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ ã¯é »ç¹ã«å¤‰æ›´ã•ã‚Œã¾ã™ã€‚ãƒªãƒ³ã‚¯åˆ‡ã‚Œã®å ´åˆã¯ [shopify.dev](https://shopify.dev) ã§æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | URL |
|-------------|-----|
| **GDPRï¼ˆãƒ˜ãƒ«ãƒ—ã‚»ãƒ³ã‚¿ãƒ¼ï¼‰** | https://help.shopify.com/en/manual/privacy-and-security/privacy/gdpr |
| **Webhooks overview** | https://shopify.dev/docs/apps/build/webhooks |
| **HMAC verification** | https://shopify.dev/docs/apps/build/webhooks/verify |
| **App submission** | https://shopify.dev/docs/apps/launch/submit |

**æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰**ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆï¼‰:
- `shopify.dev GDPR webhooks mandatory`
- `shopify.dev customers/redact shop/redact`
- `shopify.dev privacy compliance webhooks`

> ğŸ’¡ è©³ç´°ãªãƒªãƒ³ã‚¯ä¸€è¦§ã¯ [è¦ä»¶å®šç¾©.md](./è¦ä»¶å®šç¾©.md#7-å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªãƒ³ã‚¯é›†) ã‚’å‚ç…§

## é–¢é€£ãƒªãƒ³ã‚¯

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«
- `backend/ShopifyAnalyticsApi/Controllers/WebhookController.cs`
- `backend/ShopifyAnalyticsApi/Services/GDPRService.cs`
- `backend/ShopifyAnalyticsApi/Jobs/GdprProcessingJob.cs`
- `backend/ShopifyAnalyticsApi/Models/GDPRModels.cs`

### æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `docs/00-production-release/03-gdpr-compliance/`
- `docs/08-shopify/04-GDPRå¯¾å¿œ/`
- `docs/08-shopify/05-æ³•çš„æ–‡æ›¸/` (ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒ»åˆ©ç”¨è¦ç´„)
