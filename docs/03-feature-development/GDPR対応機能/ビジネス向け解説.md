# ECレンジャー GDPR対応機能 - ビジネス向け解説

**作成日**: 2025年12月31日  
**対象読者**: 非エンジニア（ビジネス担当者、マネージャー）  
**目的**: Shopifyアプリ公開に必要なGDPR対応の概要を理解する

---

## 1. GDPRとは？

### 1.1 概要

**GDPR（General Data Protection Regulation）** は、EU（欧州連合）で2018年に施行された**個人情報保護に関する法律**です。

日本でいう「個人情報保護法」のEU版ですが、より厳格なルールが定められています。

### 1.2 なぜShopifyアプリに関係するのか？

Shopifyは世界中で利用されているため、**EUの顧客データを扱う可能性**があります。

そのため、Shopifyは**すべての公開アプリ**に対して、GDPR対応を**必須条件**としています。

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│   GDPR対応していないアプリ                                │
│         ↓                                               │
│   Shopify App Storeに公開できない ❌                     │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 2. ECレンジャーに求められる対応

### 2.1 必須対応（3つの機能）

Shopifyは、すべての公開アプリに**3つの必須機能**の実装を求めています。

| # | 機能名 | 顧客の要求 | ECレンジャーの対応 |
|---|-------|-----------|------------------|
| 1 | **データ開示** | 「私のデータを見せて」 | 顧客データをまとめて提供 |
| 2 | **データ削除** | 「私のデータを消して」 | 顧客データを削除 |
| 3 | **ストア削除** | （アプリをアンインストール） | ストアの全データを削除 |

### 2.2 イメージ図

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  【機能1】データ開示                                              │
│  ─────────────────                                              │
│                                                                 │
│    顧客「私の個人情報を                                          │
│         見せてください」    →    ECレンジャーが                   │
│              ↓                   顧客データを                    │
│         ストアオーナーが          エクスポート                    │
│         Shopifyで操作                  ↓                        │
│                                  ストアオーナーに提供             │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  【機能2】データ削除                                              │
│  ─────────────────                                              │
│                                                                 │
│    顧客「私の個人情報を                                          │
│         消してください」    →    ECレンジャーが                   │
│              ↓                   顧客データを                    │
│         ストアオーナーが          削除・匿名化                    │
│         Shopifyで操作                                           │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  【機能3】ストア削除                                              │
│  ─────────────────                                              │
│                                                                 │
│    ストアオーナーが              ECレンジャーが                   │
│    アプリをアンインストール  →   そのストアの                     │
│              ↓                   全データを削除                  │
│         48時間後に                                               │
│         Shopifyが通知                                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 具体的な運用シナリオ

### 3.1 シナリオ1：顧客からのデータ開示要求

**状況**: EU在住の顧客から「私のデータを見せてほしい」とメールが届いた

```
【ステップ1】顧客 → ストアオーナー
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
顧客がストアに連絡（メール、問い合わせフォーム等）
「GDPRに基づき、私の個人データの開示を請求します」

         ↓

【ステップ2】ストアオーナー → Shopify管理画面
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ストアオーナーがShopify管理画面で操作：
  顧客 → 該当顧客を選択 → その他の操作
  → 「お客様データをリクエスト」をクリック

         ↓

【ステップ3】Shopify → ECレンジャー（自動）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Shopifyが自動的にECレンジャーに通知
ECレンジャーが顧客データを収集・エクスポート

         ↓

【ステップ4】ストアオーナー → 顧客
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ストアオーナーがエクスポートされたデータを
顧客にメール等で送付
```

**対応期限**: 30日以内

### 3.2 シナリオ2：顧客からのデータ削除要求

**状況**: 顧客から「私のデータを完全に消してほしい」と連絡があった

```
【ステップ1】顧客 → ストアオーナー
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
顧客がストアに連絡
「GDPRに基づき、私の個人データの削除を請求します」

         ↓

【ステップ2】ストアオーナー → Shopify管理画面
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ストアオーナーがShopify管理画面で操作：
  顧客 → 該当顧客を選択 → その他の操作
  → 「個人データを消去する」をクリック

         ↓

【ステップ3】Shopify → ECレンジャー（自動）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Shopifyが自動的にECレンジャーに通知
ECレンジャーが顧客データを削除または匿名化

         ↓

【ステップ4】完了
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
データ削除が完了
ストアオーナーが顧客に完了を報告
```

**対応期限**: 30日以内

### 3.3 シナリオ3：アプリのアンインストール

**状況**: ストアオーナーがECレンジャーをアンインストールした

```
【ステップ1】ストアオーナー → アンインストール
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ストアオーナーがShopify管理画面から
ECレンジャーをアンインストール

         ↓

【ステップ2】直後 - 課金停止
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ECレンジャーが通知を受信
  → 課金を停止
  → アクセス権限を無効化

         ↓

【ステップ3】48時間後 - データ削除
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Shopifyから「データ削除」の通知が届く
ECレンジャーがそのストアの全データを削除
  → 顧客データ
  → 注文データ
  → 分析結果
  → すべて完全削除

         ↓

【ステップ4】完了
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ストアに関するデータが完全に削除される
```

**対応期限**: 30日以内（48時間後の通知から起算）

---

## 4. ECレンジャーが提供するデータの例

「データ開示」要求を受けた場合、以下のような情報をエクスポートします：

### 4.1 エクスポートデータの内容

| カテゴリ | 含まれる情報 |
|---------|------------|
| **顧客情報** | 名前、メールアドレス、電話番号、住所 |
| **購入履歴** | 注文日、注文番号、金額、購入商品 |
| **分析結果** | 顧客ランク（F-tier）、RFMスコア、購入頻度 |
| **集計データ** | 累計購入金額、平均注文額、最終購入日 |

### 4.2 エクスポートデータのイメージ

```
┌─────────────────────────────────────────────────────────┐
│ 顧客データエクスポート                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ■ 基本情報                                               │
│   氏名: 中村大輔                                         │
│   メール: test+011@example.com                          │
│   住所: 新潟県新潟市中央区...                             │
│                                                         │
│ ■ 購入履歴                                               │
│   注文#1326 | 2025/12/17 | 8,778円                      │
│   注文#1298 | 2025/12/16 | 15,000円                     │
│   注文#1273 | 2025/12/16 | 12,000円                     │
│   注文#1249 | 2025/12/15 | 35,000円                     │
│                                                         │
│ ■ 分析結果                                               │
│   顧客ランク: アクティブ                                  │
│   累計購入金額: 70,778円                                 │
│   購入回数: 4回                                          │
│   平均注文額: 17,694円                                   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 5. よくある質問（FAQ）

### Q1. 日本のストアでもGDPR対応は必要ですか？

**A. はい、必要です。**

Shopify App Storeに公開するアプリは、すべてGDPR対応が必須です。
日本のストアでも、EU在住の顧客が購入する可能性があるためです。

### Q2. 実際にデータ開示・削除要求はどのくらい来ますか？

**A. 非常にまれです。**

特に日本国内のストアでは、年に数件程度と予想されます。
ただし、機能として実装されていることが**審査の必須条件**です。

### Q3. データ削除すると、分析データも消えますか？

**A. はい、すべて削除されます。**

顧客に紐づく以下のデータがすべて削除されます：
- 顧客の個人情報
- その顧客の注文履歴
- 分析結果（F-tier、RFMスコア等）

### Q4. ストアオーナーは何か操作が必要ですか？

**A. Shopify管理画面での操作が必要です。**

顧客からの要求を受けて、ストアオーナーがShopify管理画面から
「データリクエスト」または「データ削除」を実行します。
ECレンジャー側は自動で処理されます。

### Q5. 対応期限を過ぎるとどうなりますか？

**A. 法的リスクがあります。**

GDPRでは、期限内に対応しない場合、罰則の対象となる可能性があります。
ECレンジャーは期限を管理し、自動的に処理を完了します。

---

## 6. ECレンジャーの対応状況

### 6.1 実装状況

| 機能 | 状況 | 備考 |
|------|------|------|
| データ開示 | ✅ 実装完了 | 顧客データのエクスポート機能 |
| データ削除 | ✅ 実装完了 | 顧客データの削除・匿名化機能 |
| ストア削除 | ✅ 実装完了 | ストア全データの削除機能 |
| 監査ログ | ✅ 実装完了 | 処理履歴の記録 |

### 6.2 今後の予定

| 項目 | 内容 | 予定 |
|------|------|------|
| E2Eテスト | 実環境での動作確認 | 申請前に完了 |
| 法的文書 | プライバシーポリシーの英語版 | 申請前に完了 |

---

## 7. まとめ

### 7.1 ポイント

1. **GDPR対応はShopifyアプリ公開の必須条件**
2. **3つの機能（データ開示・削除・ストア削除）が必要**
3. **ECレンジャーは基本実装が完了している**
4. **残りはテストと最終調整のみ**

### 7.2 ストアオーナーへの影響

ECレンジャーを利用するストアオーナーは、特別な設定は不要です。
顧客からの要求があった場合のみ、Shopify管理画面から操作します。

---

## 8. 参考：Shopify管理画面での操作

### 8.1 データ開示・削除の操作画面

```
Shopify管理画面
  └── 顧客
        └── [顧客を選択]
              └── 「その他の操作」ボタン
                    ├── お客様データをリクエスト  ← データ開示
                    └── 個人データを消去する    ← データ削除
```

### 8.2 画面イメージ

> 📷 実際の画面キャプチャは、Shopify管理画面から取得してください

「その他の操作」メニューから、以下の操作が可能です：
- **お客様データをリクエスト**: 顧客データのエクスポートを依頼
- **個人データを消去する**: 顧客データの削除を依頼

---

**ご不明点があれば、開発チームまでお問い合わせください。**
