# Shopify ã‚¢ãƒ—ãƒªèªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡æ©Ÿèƒ½ å®Ÿè£…è¨ˆç”»æ›¸

## æ¦‚è¦

Shopify ã‚¢ãƒ—ãƒªèªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡æ©Ÿèƒ½ã®å®Ÿè£…è¨ˆç”»æ›¸ã§ã™ã€‚ç’°å¢ƒåˆ¥ã«èªè¨¼æ–¹å¼ã‚’å®‰å…¨ã«åˆ‡ã‚Šæ›¿ãˆã‚‹æ©Ÿèƒ½ã‚’æ®µéšçš„ã«å®Ÿè£…ã—ã¾ã™ã€‚

---

## ğŸ¯ å®Ÿè£…ç›®æ¨™

### ä¸»è¦ç›®æ¨™
- æœ¬ç•ªç’°å¢ƒã§ã®OAuthèªè¨¼å¼·åˆ¶
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ã®ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯è¡¨ç¤ºå•é¡Œè§£æ±º
- ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã®é©åˆ‡ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
- èªè¨¼ãƒ•ãƒ­ãƒ¼ã®çµ±ä¸€ã¨é‹ç”¨æ€§å‘ä¸Š

### æˆåŠŸåŸºæº–
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ãŒ100%è¡¨ç¤ºã•ã‚Œã‚‹
- ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ“ä½œãŒå®Œå…¨ã«ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹
- èªè¨¼ã‚¨ãƒ©ãƒ¼ç‡ã‚’10%ä»¥ä¸‹ã«å‰Šæ¸›
- èªè¨¼å‡¦ç†æ™‚é–“ã‚’3ç§’ä»¥å†…ã«çŸ­ç¸®

---

## ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´10æœˆ28æ—¥ - 2025å¹´11æœˆ1æ—¥

#### ã‚¿ã‚¹ã‚¯1.1: ç’°å¢ƒå¤‰æ•°è¨­è¨ˆãƒ»å®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã®å®šç¾©
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã®å®šç¾©
- [ ] ç’°å¢ƒåˆ¥è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯1.2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»å®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] èªè¨¼ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] ç’°å¢ƒè¨­å®šãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
- [ ] EF Coreãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ

#### ã‚¿ã‚¹ã‚¯1.3: èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthModeMiddlewareã®å®Ÿè£…
- [ ] ç’°å¢ƒåˆ¥èªè¨¼åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯1.4: åŸºæœ¬ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ1æ—¥ï¼‰
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ›´æ–°

### Phase 2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ4æ—¥ - 2025å¹´11æœˆ8æ—¥

#### ã‚¿ã‚¹ã‚¯2.1: èªè¨¼ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthenticationRequiredã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹ä¿®
- [ ] ç’°å¢ƒåˆ¥è¡¨ç¤ºåˆ¶å¾¡ã®å®Ÿè£…
- [ ] å‹•çš„ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒœã‚¿ãƒ³è¡¨ç¤ºã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.2: ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰æ©Ÿèƒ½å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] DeveloperModeBannerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.3: èªè¨¼ã‚¬ãƒ¼ãƒ‰å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] AuthGuardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] èªè¨¼çŠ¶æ…‹ç®¡ç†ã®å®Ÿè£…
- [ ] ãƒ«ãƒ¼ãƒˆä¿è­·æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯2.4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆã®å®Ÿè£…
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

### Phase 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ11æ—¥ - 2025å¹´11æœˆ15æ—¥

#### ã‚¿ã‚¹ã‚¯3.1: ãƒ‡ãƒ¢èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] DemoAuthServiceã®å®Ÿè£…
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] JWTç”Ÿæˆæ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.2: ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] RequireOAuthAttributeã®å®Ÿè£…
- [ ] ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰åˆ¶é™æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¿è­·ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.3: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½å®Ÿè£…ï¼ˆ2æ—¥ï¼‰
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã®å®Ÿè£…
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°ã®å®Ÿè£…

#### ã‚¿ã‚¹ã‚¯3.4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥ï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] APIãƒ†ã‚¹ãƒˆã®å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Phase 4: çµ±åˆãƒ»ãƒ†ã‚¹ãƒˆï¼ˆ1é€±é–“ï¼‰
**æœŸé–“**: 2025å¹´11æœˆ18æ—¥ - 2025å¹´11æœˆ22æ—¥

#### ã‚¿ã‚¹ã‚¯4.1: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼ˆ2æ—¥ï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆ
- [ ] ç’°å¢ƒåˆ¥è¨­å®šã®é©ç”¨
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®šã®æ›´æ–°
- [ ] è¨­å®šç¢ºèªãƒ»èª¿æ•´

#### ã‚¿ã‚¹ã‚¯4.2: ç·åˆãƒ†ã‚¹ãƒˆï¼ˆ2æ—¥ï¼‰
- [ ] ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
- [ ] ç’°å¢ƒåˆ¥å‹•ä½œç¢ºèª
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

#### ã‚¿ã‚¹ã‚¯4.3: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ï¼ˆ1æ—¥ï¼‰
- [ ] å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°
- [ ] é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ä½œæˆ
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å®Ÿæ–½

---

## ğŸ› ï¸ å®Ÿè£…è©³ç´°

### 1. ç’°å¢ƒå¤‰æ•°å®Ÿè£…

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```typescript
// environments.ts
export const getEnvironmentConfig = () => {
  const environment = process.env.NEXT_PUBLIC_ENVIRONMENT || 'development'
  const authMode = process.env.NEXT_PUBLIC_AUTH_MODE || 'all_allowed'
  
  return {
    environment: environment as 'production' | 'staging' | 'development',
    authMode: authMode as 'oauth_required' | 'demo_allowed' | 'all_allowed',
    devPassword: process.env.NEXT_PUBLIC_DEV_PASSWORD || 'dev123',
    enableDevTools: process.env.NEXT_PUBLIC_ENABLE_DEV_TOOLS === 'true',
    debugMode: process.env.NEXT_PUBLIC_DEBUG_MODE === 'true',
    demoSessionTimeout: parseInt(process.env.NEXT_PUBLIC_DEMO_SESSION_TIMEOUT || '60')
  }
}

// ç’°å¢ƒå¤‰æ•°æ¤œè¨¼
export const validateEnvironmentConfig = () => {
  const config = getEnvironmentConfig()
  
  // æœ¬ç•ªç’°å¢ƒã§ã®å®‰å…¨å¼
  if (config.environment === 'production' && config.authMode !== 'oauth_required') {
    throw new Error('Production environment must use oauth_required auth mode')
  }
  
  // å¿…é ˆç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
  if (!config.devPassword) {
    throw new Error('NEXT_PUBLIC_DEV_PASSWORD is required')
  }
  
  return config
}
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```csharp
// appsettings.json
{
  "Authentication": {
    "Mode": "OAuthRequired", // OAuthRequired, DemoAllowed, AllAllowed
    "JwtSecret": "your-jwt-secret-key",
    "JwtExpiryHours": 24
  },
  "Demo": {
    "PasswordHash": "$2a$10$...", // bcrypt hash
    "SessionTimeoutHours": 1,
    "MaxSessionsPerUser": 5
  },
  "Security": {
    "RequireHttps": true,
    "EnableCors": false,
    "AllowedOrigins": []
  }
}

// ConfigurationExtensions.cs
public static class ConfigurationExtensions
{
    public static AuthConfig GetAuthConfig(this IConfiguration config)
    {
        return new AuthConfig
        {
            Mode = config["Authentication:Mode"] switch
            {
                "OAuthRequired" => AuthMode.OAuthRequired,
                "DemoAllowed" => AuthMode.DemoAllowed,
                "AllAllowed" => AuthMode.AllAllowed,
                _ => throw new InvalidOperationException("Invalid authentication mode")
            },
            JwtSecret = config["Authentication:JwtSecret"] 
                ?? throw new InvalidOperationException("JWT secret is required"),
            JwtExpiryHours = config.GetValue<int>("Authentication:JwtExpiryHours", 24)
        };
    }
}
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Ÿè£…

#### EF Coreã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```csharp
// DemoSession.cs
public class DemoSession
{
    public Guid Id { get; set; }
    public string SessionId { get; set; } = string.Empty;
    public DateTime CreatedAt { get; set; }
    public DateTime ExpiresAt { get; set; }
    public DateTime LastAccessedAt { get; set; }
    public bool IsActive { get; set; } = true;
    public string? CreatedBy { get; set; }
}

// AuthenticationLog.cs
public class AuthenticationLog
{
    public Guid Id { get; set; }
    public string? UserId { get; set; }
    public string AuthMode { get; set; } = string.Empty; // oauth, demo, dev
    public bool Success { get; set; }
    public string? FailureReason { get; set; }
    public string? IpAddress { get; set; }
    public string? UserAgent { get; set; }
    public DateTime CreatedAt { get; set; }
}

// DbContext
public class AuthDbContext : DbContext
{
    public AuthDbContext(DbContextOptions<AuthDbContext> options) : base(options) { }
    
    public DbSet<DemoSession> DemoSessions { get; set; }
    public DbSet<AuthenticationLog> AuthenticationLogs { get; set; }
    
    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<DemoSession>(entity =>
        {
            entity.HasKey(e => e.Id);
            entity.HasIndex(e => e.SessionId).IsUnique();
            entity.HasIndex(e => e.ExpiresAt);
        });
        
        modelBuilder.Entity<AuthenticationLog>(entity =>
        {
            entity.HasKey(e => e.Id);
            entity.HasIndex(e => e.CreatedAt);
            entity.HasIndex(e => e.AuthMode);
        });
    }
}
```

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```csharp
// 20251025_AddAuthModeControl.cs
public partial class AddAuthModeControl : Migration
{
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.CreateTable(
            name: "DemoSessions",
            columns: table => new
            {
                Id = table.Column<Guid>(type: "uniqueidentifier", nullable: false),
                SessionId = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: false),
                CreatedAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                ExpiresAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                LastAccessedAt = table.Column<DateTime>(type: "datetime2", nullable: false),
                IsActive = table.Column<bool>(type: "bit", nullable: false),
                CreatedBy = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_DemoSessions", x => x.Id);
            });

        migrationBuilder.CreateIndex(
            name: "IX_DemoSessions_SessionId",
            table: "DemoSessions",
            column: "SessionId",
            unique: true);

        migrationBuilder.CreateIndex(
            name: "IX_DemoSessions_ExpiresAt",
            table: "DemoSessions",
            column: "ExpiresAt");

        migrationBuilder.CreateTable(
            name: "AuthenticationLogs",
            columns: table => new
            {
                Id = table.Column<Guid>(type: "uniqueidentifier", nullable: false),
                UserId = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true),
                AuthMode = table.Column<string>(type: "nvarchar(50)", maxLength: 50, nullable: false),
                Success = table.Column<bool>(type: "bit", nullable: false),
                FailureReason = table.Column<string>(type: "nvarchar(255)", maxLength: 255, nullable: true),
                IpAddress = table.Column<string>(type: "nvarchar(45)", maxLength: 45, nullable: true),
                UserAgent = table.Column<string>(type: "nvarchar(500)", maxLength: 500, nullable: true),
                CreatedAt = table.Column<DateTime>(type: "datetime2", nullable: false)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_AuthenticationLogs", x => x.Id);
            });

        migrationBuilder.CreateIndex(
            name: "IX_AuthenticationLogs_CreatedAt",
            table: "AuthenticationLogs",
            column: "CreatedAt");

        migrationBuilder.CreateIndex(
            name: "IX_AuthenticationLogs_AuthMode",
            table: "AuthenticationLogs",
            column: "AuthMode");
    }

    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.DropTable(name: "AuthenticationLogs");
        migrationBuilder.DropTable(name: "DemoSessions");
    }
}
```

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

#### èªè¨¼ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// AuthenticationRequired.tsx
import { getEnvironmentConfig } from '@/lib/environments'

interface AuthenticationRequiredProps {
  hasShopParam?: boolean
  message?: string
  onShopifyAuth?: () => void
  onDemoAuth?: () => void
}

export const AuthenticationRequired: React.FC<AuthenticationRequiredProps> = ({
  hasShopParam = false,
  message,
  onShopifyAuth,
  onDemoAuth
}) => {
  const config = getEnvironmentConfig()
  
  // ç’°å¢ƒã«å¿œã˜ãŸã‚¿ã‚¤ãƒˆãƒ«
  const title = config.environment === 'production' 
    ? 'Shopifyèªè¨¼ãŒå¿…è¦ã§ã™' 
    : 'èªè¨¼ãŒå¿…è¦ã§ã™'
  
  // ç’°å¢ƒã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  const defaultMessage = config.environment === 'production'
    ? 'ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒç„¡åŠ¹ã¾ãŸã¯æœŸé™åˆ‡ã‚Œã§ã™ã€‚Shopifyèªè¨¼ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚'
    : 'ã“ã®ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯èªè¨¼ãŒå¿…è¦ã§ã™ã€‚'
  
  // ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯è¡¨ç¤ºåˆ¤å®š
  const showDemoLink = config.authMode !== 'oauth_required'
  
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <div className="max-w-md w-full space-y-8 p-8">
        <div className="text-center">
          <h1 className="text-2xl font-bold text-gray-900 mb-2">
            {title}
          </h1>
          <p className="text-gray-600 mb-6">
            {message ?? defaultMessage}
          </p>
        </div>
        
        {config.environment === 'production' && !hasShopParam ? (
          <ProductionGuidance />
        ) : (
          <AuthOptions 
            showOAuth={true}
            showDemo={showDemoLink}
            onShopifyAuth={onShopifyAuth}
            onDemoAuth={onDemoAuth}
            environment={config.environment}
          />
        )}
      </div>
    </div>
  )
}

// AuthOptions.tsx
interface AuthOptionsProps {
  showOAuth: boolean
  showDemo: boolean
  onShopifyAuth?: () => void
  onDemoAuth?: () => void
  environment: string
}

const AuthOptions: React.FC<AuthOptionsProps> = ({
  showOAuth,
  showDemo,
  onShopifyAuth,
  onDemoAuth,
  environment
}) => {
  return (
    <div className="space-y-4">
      {/* OAuthèªè¨¼ãƒœã‚¿ãƒ³ */}
      {showOAuth && (
        <div className="space-y-3">
          <Button 
            onClick={onShopifyAuth} 
            className="w-full"
            variant="default"
          >
            Shopifyã§èªè¨¼ã™ã‚‹
          </Button>
          {environment !== 'production' && (
            <p className="text-xs text-gray-500 text-center">
              ğŸ’¡ Shopify OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚
            </p>
          )}
        </div>
      )}
      
      {/* ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ */}
      {showDemo && (
        <div className="border-t pt-4">
          <div className="text-center mb-4">
            <h3 className="text-lg font-medium text-gray-900">
              ğŸ¯ ãƒ‡ãƒ¢ãƒ»ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨
            </h3>
            <p className="text-sm text-gray-600 mt-1">
              Shopifyèªè¨¼ãªã—ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã§ãã¾ã™ã€‚
            </p>
          </div>
          <Button 
            onClick={onDemoAuth}
            className="w-full"
            variant="outline"
          >
            ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã
          </Button>
          <p className="text-xs text-gray-500 text-center mt-2">
            â€» ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™
          </p>
        </div>
      )}
    </div>
  )
}
```

#### ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ãƒãƒŠãƒ¼

```typescript
// DeveloperModeBanner.tsx
interface DeveloperModeBannerProps {
  sessionExpiresAt: Date
  onLogout: () => void
}

export const DeveloperModeBanner: React.FC<DeveloperModeBannerProps> = ({
  sessionExpiresAt,
  onLogout
}) => {
  const [timeRemaining, setTimeRemaining] = useState<number>(0)
  
  useEffect(() => {
    const updateTimer = () => {
      const remaining = Math.max(0, sessionExpiresAt.getTime() - Date.now())
      setTimeRemaining(Math.floor(remaining / 60000)) // åˆ†å˜ä½
    }
    
    updateTimer()
    const interval = setInterval(updateTimer, 1000)
    
    return () => clearInterval(interval)
  }, [sessionExpiresAt])
  
  const formatTime = (minutes: number) => {
    if (minutes <= 0) return 'æœŸé™åˆ‡ã‚Œ'
    if (minutes < 60) return `${minutes}åˆ†`
    const hours = Math.floor(minutes / 60)
    const mins = minutes % 60
    return `${hours}æ™‚é–“${mins}åˆ†`
  }
  
  return (
    <div className="bg-yellow-50 border-l-4 border-yellow-400 p-4">
      <div className="flex items-center justify-between">
        <div className="flex items-center">
          <div className="flex-shrink-0">
            <ExclamationTriangleIcon className="h-5 w-5 text-yellow-400" />
          </div>
          <div className="ml-3">
            <p className="text-sm text-yellow-700">
              <span className="font-medium">é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«æœ‰åŠ¹</span>
              <span className="ml-2">ï¼ˆãƒ‡ãƒ¼ã‚¿é–²è¦§å°‚ç”¨ãƒ¢ãƒ¼ãƒ‰ï¼‰</span>
            </p>
            <p className="text-xs text-yellow-600 mt-1">
              ã‚»ãƒƒã‚·ãƒ§ãƒ³æ®‹ã‚Š: {formatTime(timeRemaining)}
            </p>
          </div>
        </div>
        <Button
          onClick={onLogout}
          size="sm"
          variant="outline"
          className="text-yellow-700 border-yellow-300 hover:bg-yellow-100"
        >
          ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        </Button>
      </div>
    </div>
  )
}
```

### 4. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…

#### èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

```csharp
// AuthModeMiddleware.cs
public class AuthModeMiddleware
{
    private readonly RequestDelegate _next;
    private readonly IConfiguration _config;
    private readonly ILogger<AuthModeMiddleware> _logger;
    private readonly IMemoryCache _cache;

    public AuthModeMiddleware(
        RequestDelegate next, 
        IConfiguration config, 
        ILogger<AuthModeMiddleware> logger,
        IMemoryCache cache)
    {
        _next = next;
        _config = config;
        _logger = logger;
        _cache = cache;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        var authConfig = _config.GetAuthConfig();
        var environment = _config["Environment"];
        
        // æœ¬ç•ªç’°å¢ƒå®‰å…¨å¼
        if (environment == "Production" && authConfig.Mode != AuthMode.OAuthRequired)
        {
            _logger.LogError("Invalid authentication mode for production environment: {Mode}", authConfig.Mode);
            context.Response.StatusCode = 500;
            await context.Response.WriteAsync("Invalid authentication configuration");
            return;
        }
        
        // èªè¨¼ãƒã‚§ãƒƒã‚¯
        var authResult = await CheckAuthenticationAsync(context, authConfig);
        
        if (!authResult.IsAuthenticated)
        {
            context.Response.StatusCode = 401;
            await context.Response.WriteAsync("Authentication required");
            return;
        }
        
        // èªè¨¼ãƒ¢ãƒ¼ãƒ‰æƒ…å ±ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«è¨­å®š
        context.Items["AuthMode"] = authResult.AuthMode;
        context.Items["IsDemoMode"] = authResult.IsDemoMode;
        context.Items["ShopifyApiRestricted"] = authResult.IsDemoMode;
        
        await _next(context);
    }
    
    private async Task<AuthResult> CheckAuthenticationAsync(HttpContext context, AuthConfig config)
    {
        var oauthToken = context.Request.Cookies["shopify_oauth_token"];
        var demoToken = context.Request.Cookies["demo_auth_token"];
        
        // OAuthèªè¨¼ãƒã‚§ãƒƒã‚¯
        if (!string.IsNullOrEmpty(oauthToken))
        {
            var isValidOAuth = await ValidateOAuthTokenAsync(oauthToken);
            if (isValidOAuth)
            {
                return new AuthResult 
                { 
                    IsAuthenticated = true, 
                    AuthMode = "oauth",
                    IsDemoMode = false 
                };
            }
        }
        
        // ãƒ‡ãƒ¢èªè¨¼ãƒã‚§ãƒƒã‚¯
        if (!string.IsNullOrEmpty(demoToken) && config.Mode != AuthMode.OAuthRequired)
        {
            var isValidDemo = await ValidateDemoTokenAsync(demoToken);
            if (isValidDemo)
            {
                return new AuthResult 
                { 
                    IsAuthenticated = true, 
                    AuthMode = "demo",
                    IsDemoMode = true 
                };
            }
        }
        
        return new AuthResult { IsAuthenticated = false };
    }
}

// AuthResult.cs
public class AuthResult
{
    public bool IsAuthenticated { get; set; }
    public string AuthMode { get; set; } = string.Empty;
    public bool IsDemoMode { get; set; }
}
```

#### ãƒ‡ãƒ¢èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹

```csharp
// DemoAuthService.cs
public class DemoAuthService
{
    private readonly IConfiguration _config;
    private readonly IMemoryCache _cache;
    private readonly ILogger<DemoAuthService> _logger;
    private readonly AuthDbContext _context;

    public DemoAuthService(
        IConfiguration config,
        IMemoryCache cache,
        ILogger<DemoAuthService> logger,
        AuthDbContext context)
    {
        _config = config;
        _cache = cache;
        _logger = logger;
        _context = context;
    }

    public async Task<DemoAuthResult> AuthenticateAsync(string password, string? ipAddress = null)
    {
        var hashedPassword = _config["Demo:PasswordHash"];
        var isValid = BCrypt.Verify(password, hashedPassword);
        
        if (!isValid)
        {
            _logger.LogWarning("Invalid demo password attempt from IP: {IpAddress}", ipAddress);
            await LogAuthenticationAttemptAsync("demo", false, "Invalid password", ipAddress);
            return new DemoAuthResult { Success = false, ErrorMessage = "Invalid password" };
        }
        
        var sessionId = Guid.NewGuid().ToString();
        var expiresAt = DateTime.UtcNow.AddHours(
            _config.GetValue<int>("Demo:SessionTimeoutHours", 1)
        );
        
        var session = new DemoSession
        {
            Id = Guid.NewGuid(),
            SessionId = sessionId,
            CreatedAt = DateTime.UtcNow,
            ExpiresAt = expiresAt,
            LastAccessedAt = DateTime.UtcNow,
            IsActive = true
        };
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜
        _context.DemoSessions.Add(session);
        await _context.SaveChangesAsync();
        
        // ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
        _cache.Set($"demo_session_{sessionId}", session, expiresAt);
        
        var token = GenerateDemoToken(session);
        
        await LogAuthenticationAttemptAsync("demo", true, null, ipAddress);
        
        return new DemoAuthResult
        {
            Success = true,
            Token = token,
            ExpiresAt = expiresAt,
            SessionId = sessionId
        };
    }
    
    public async Task<bool> ValidateTokenAsync(string token)
    {
        try
        {
            var tokenHandler = new JwtSecurityTokenHandler();
            var key = Encoding.ASCII.GetBytes(_config["Authentication:JwtSecret"]);
            
            tokenHandler.ValidateToken(token, new TokenValidationParameters
            {
                ValidateIssuerSigningKey = true,
                IssuerSigningKey = new SymmetricSecurityKey(key),
                ValidateIssuer = false,
                ValidateAudience = false,
                ClockSkew = TimeSpan.Zero
            }, out SecurityToken validatedToken);
            
            var jwtToken = (JwtSecurityToken)validatedToken;
            var sessionId = jwtToken.Claims.First(x => x.Type == "session_id").Value;
            
            // ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ç¢ºèª
            if (_cache.TryGetValue($"demo_session_{sessionId}", out DemoSession? cachedSession))
            {
                if (cachedSession!.IsActive && cachedSession.ExpiresAt > DateTime.UtcNow)
                {
                    // æœ€çµ‚ã‚¢ã‚¯ã‚»ã‚¹æ™‚é–“ã‚’æ›´æ–°
                    cachedSession.LastAccessedAt = DateTime.UtcNow;
                    _cache.Set($"demo_session_{sessionId}", cachedSession, cachedSession.ExpiresAt);
                    return true;
                }
            }
            
            // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç¢ºèª
            var dbSession = await _context.DemoSessions
                .FirstOrDefaultAsync(s => s.SessionId == sessionId && s.IsActive);
            
            if (dbSession != null && dbSession.ExpiresAt > DateTime.UtcNow)
            {
                dbSession.LastAccessedAt = DateTime.UtcNow;
                await _context.SaveChangesAsync();
                return true;
            }
            
            return false;
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "Error validating demo token");
            return false;
        }
    }
    
    private string GenerateDemoToken(DemoSession session)
    {
        var tokenHandler = new JwtSecurityTokenHandler();
        var key = Encoding.ASCII.GetBytes(_config["Authentication:JwtSecret"]);
        
        var tokenDescriptor = new SecurityTokenDescriptor
        {
            Subject = new ClaimsIdentity(new[]
            {
                new Claim("session_id", session.SessionId),
                new Claim("auth_mode", "demo"),
                new Claim("expires_at", session.ExpiresAt.ToString("O"))
            }),
            Expires = session.ExpiresAt,
            SigningCredentials = new SigningCredentials(
                new SymmetricSecurityKey(key), 
                SecurityAlgorithms.HmacSha256Signature
            )
        };
        
        var token = tokenHandler.CreateToken(tokenDescriptor);
        return tokenHandler.WriteToken(token);
    }
    
    private async Task LogAuthenticationAttemptAsync(
        string authMode, 
        bool success, 
        string? failureReason, 
        string? ipAddress)
    {
        var log = new AuthenticationLog
        {
            Id = Guid.NewGuid(),
            AuthMode = authMode,
            Success = success,
            FailureReason = failureReason,
            IpAddress = ipAddress,
            CreatedAt = DateTime.UtcNow
        };
        
        _context.AuthenticationLogs.Add(log);
        await _context.SaveChangesAsync();
    }
}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè£…

### å˜ä½“ãƒ†ã‚¹ãƒˆ

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```typescript
// AuthenticationRequired.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { AuthenticationRequired } from './AuthenticationRequired'

// ãƒ¢ãƒƒã‚¯è¨­å®š
jest.mock('@/lib/environments', () => ({
  getEnvironmentConfig: jest.fn()
}))

describe('AuthenticationRequired', () => {
  beforeEach(() => {
    jest.clearAllMocks()
  })
  
  it('should show Shopify title in production', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'production',
      authMode: 'oauth_required'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.getByText('Shopifyèªè¨¼ãŒå¿…è¦ã§ã™')).toBeInTheDocument()
  })
  
  it('should show demo link in staging', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'staging',
      authMode: 'demo_allowed'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.getByText('ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã')).toBeInTheDocument()
  })
  
  it('should not show demo link in production', () => {
    const { getEnvironmentConfig } = require('@/lib/environments')
    getEnvironmentConfig.mockReturnValue({
      environment: 'production',
      authMode: 'oauth_required'
    })
    
    render(<AuthenticationRequired />)
    
    expect(screen.queryByText('ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’é–‹ã')).not.toBeInTheDocument()
  })
})
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

```csharp
// AuthModeMiddlewareTests.cs
[TestFixture]
public class AuthModeMiddlewareTests
{
    private Mock<RequestDelegate> _mockNext;
    private Mock<IConfiguration> _mockConfig;
    private Mock<ILogger<AuthModeMiddleware>> _mockLogger;
    private Mock<IMemoryCache> _mockCache;
    private AuthModeMiddleware _middleware;

    [SetUp]
    public void Setup()
    {
        _mockNext = new Mock<RequestDelegate>();
        _mockConfig = new Mock<IConfiguration>();
        _mockLogger = new Mock<ILogger<AuthModeMiddleware>>();
        _mockCache = new Mock<IMemoryCache>();
        
        _middleware = new AuthModeMiddleware(
            _mockNext.Object, 
            _mockConfig.Object, 
            _mockLogger.Object,
            _mockCache.Object
        );
    }

    [Test]
    public async Task InvokeAsync_ProductionWithDemoMode_ShouldReturn500()
    {
        // Arrange
        _mockConfig.Setup(c => c["Environment"]).Returns("Production");
        _mockConfig.Setup(c => c["Authentication:Mode"]).Returns("DemoAllowed");
        
        var context = new DefaultHttpContext();
        context.Response.Body = new MemoryStream();
        
        // Act
        await _middleware.InvokeAsync(context);
        
        // Assert
        Assert.AreEqual(500, context.Response.StatusCode);
    }

    [Test]
    public async Task InvokeAsync_ValidOAuthToken_ShouldCallNext()
    {
        // Arrange
        _mockConfig.Setup(c => c["Environment"]).Returns("Development");
        _mockConfig.Setup(c => c["Authentication:Mode"]).Returns("AllAllowed");
        
        var context = new DefaultHttpContext();
        context.Request.Cookies = new RequestCookieCollection(new Dictionary<string, string>
        {
            ["shopify_oauth_token"] = "valid-token"
        });
        
        // Act
        await _middleware.InvokeAsync(context);
        
        // Assert
        _mockNext.Verify(n => n(context), Times.Once);
    }
}
```

### çµ±åˆãƒ†ã‚¹ãƒˆ

```csharp
// AuthenticationIntegrationTests.cs
[TestFixture]
public class AuthenticationIntegrationTests
{
    private WebApplicationFactory<Program> _factory;
    private HttpClient _client;

    [SetUp]
    public void Setup()
    {
        _factory = new WebApplicationFactory<Program>()
            .WithWebHostBuilder(builder =>
            {
                builder.ConfigureServices(services =>
                {
                    // ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®š
                    services.Configure<AuthConfig>(config =>
                    {
                        config.Mode = AuthMode.DemoAllowed;
                        config.JwtSecret = "test-secret-key";
                    });
                });
            });
        
        _client = _factory.CreateClient();
    }

    [Test]
    public async Task DemoMode_ShouldRestrictShopifyApiAccess()
    {
        // Arrange
        var demoToken = await GetDemoTokenAsync();
        _client.DefaultRequestHeaders.Authorization = 
            new AuthenticationHeaderValue("Bearer", demoToken);
        
        // Act
        var response = await _client.GetAsync("/api/shopify/orders");
        
        // Assert
        Assert.AreEqual(HttpStatusCode.Forbidden, response.StatusCode);
        var content = await response.Content.ReadAsStringAsync();
        Assert.Contains("Forbidden in demo mode", content);
    }

    [Test]
    public async Task OAuthMode_ShouldAllowShopifyApiAccess()
    {
        // Arrange
        var oauthToken = await GetOAuthTokenAsync();
        _client.DefaultRequestHeaders.Authorization = 
            new AuthenticationHeaderValue("Bearer", oauthToken);
        
        // Act
        var response = await _client.GetAsync("/api/shopify/orders");
        
        // Assert
        Assert.AreEqual(HttpStatusCode.OK, response.StatusCode);
    }

    private async Task<string> GetDemoTokenAsync()
    {
        var response = await _client.PostAsJsonAsync("/api/auth/demo", new
        {
            password = "test-password"
        });
        
        var result = await response.Content.ReadFromJsonAsync<DemoAuthResult>();
        return result!.Token;
    }
}
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨ˆç”»

### ç’°å¢ƒåˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

#### 1. é–‹ç™ºç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=development
export NEXT_PUBLIC_AUTH_MODE=all_allowed
export NEXT_PUBLIC_DEV_PASSWORD=dev123

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
npm run dev
dotnet run
```

#### 2. ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=staging
export NEXT_PUBLIC_AUTH_MODE=demo_allowed
export NEXT_PUBLIC_DEV_PASSWORD=staging-demo-password

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update --environment Staging

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
dotnet publish -c Release
```

#### 3. æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export NEXT_PUBLIC_ENVIRONMENT=production
export NEXT_PUBLIC_AUTH_MODE=oauth_required
export NEXT_PUBLIC_ENABLE_DEV_TOOLS=false

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
dotnet ef database update --environment Production

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
dotnet publish -c Release
```

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

#### ç·Šæ€¥æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
1. **è¨­å®šå¤‰æ›´**: ç’°å¢ƒå¤‰æ•°ã‚’å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™
2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•**: è¨­å®šå¤‰æ›´ã‚’åæ˜ 
3. **å‹•ä½œç¢ºèª**: åŸºæœ¬æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: å¿…è¦ã«å¿œã˜ã¦ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

#### æ®µéšçš„ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
1. **æ©Ÿèƒ½ç„¡åŠ¹åŒ–**: å•é¡Œã®ã‚ã‚‹æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–
2. **éƒ¨åˆ†ä¿®æ­£**: å•é¡Œç®‡æ‰€ã®ã¿ã‚’ä¿®æ­£
3. **æ®µéšçš„å¾©æ—§**: æ©Ÿèƒ½ã‚’æ®µéšçš„ã«å¾©æ—§
4. **å®Œå…¨å¾©æ—§**: å…¨æ©Ÿèƒ½ã®å¾©æ—§ç¢ºèª

---

## ğŸ“Š æˆåŠŸæŒ‡æ¨™ãƒ»KPI

### å®šé‡çš„æŒ‡æ¨™

| æŒ‡æ¨™ | ç¾åœ¨å€¤ | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|------|--------|--------|----------|
| ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãƒ‡ãƒ¢ãƒªãƒ³ã‚¯è¡¨ç¤ºç‡ | 0% | 100% | æ‰‹å‹•ç¢ºèª |
| èªè¨¼ã‚¨ãƒ©ãƒ¼ç‡ | 100% | 10%ä»¥ä¸‹ | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åˆ†æ |
| ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é•å | æœªæ¸¬å®š | 0ä»¶ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» |
| èªè¨¼å‡¦ç†æ™‚é–“ | æœªæ¸¬å®š | 3ç§’ä»¥å†… | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç²¾åº¦ | æœªæ¸¬å®š | 99%ä»¥ä¸Š | ã‚»ãƒƒã‚·ãƒ§ãƒ³è¿½è·¡ |

### å®šæ€§çš„æŒ‡æ¨™

| æŒ‡æ¨™ | è©•ä¾¡æ–¹æ³• | ç›®æ¨™ |
|------|----------|------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ | ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆèª¿æŸ» | 4.0/5.0ä»¥ä¸Š |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ« | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ» | å‘ä¸Š |
| é‹ç”¨åŠ¹ç‡ | è¦³å¯Ÿãƒ»è¨˜éŒ² | å‘ä¸Š |
| é–‹ç™ºåŠ¹ç‡ | é–‹ç™ºè€…ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ | å‘ä¸Š |

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [è¦ä»¶å®šç¾©æ›¸](../01-requirements/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-è¦ä»¶å®šç¾©.md)
- [è¨­è¨ˆæ›¸](../02-design/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-è¨­è¨ˆæ›¸.md)
- [ãƒ†ã‚¹ãƒˆè¨ˆç”»æ›¸](../04-review/Shopify-èªè¨¼ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡-ãƒ†ã‚¹ãƒˆè¨ˆç”».md)

### æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [èªè¨¼ãƒ¢ãƒ¼ãƒ‰ä¸€è¦§](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/èªè¨¼ãƒ¢ãƒ¼ãƒ‰ä¸€è¦§.md)
- [èªè¨¼ç”»é¢è¡¨ç¤ºä»•æ§˜](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/èªè¨¼ç”»é¢è¡¨ç¤ºä»•æ§˜.md)
- [ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](../../05-development/09-èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ.md)

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | å†…å®¹ | æ‹…å½“è€… |
|------|------|--------|
| 2025-10-25 | åˆç‰ˆä½œæˆ | Kenji |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ25æ—¥  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼**: 2025å¹´11æœˆ1æ—¥ï¼ˆé€±æ¬¡ï¼‰
