# EC Ranger リリースロードマップ
**作成日**: 2025年8月11日  
**作成者**: Kenji（AI開発チームリーダー）  
**目標**: 2025年8月18日 Shopify App Store申請

---

## 🚨 最重要：未実装のクリティカル機能

### 1. **Shopify APIデータ同期機能** 🔴 最優先
**現状**: ❌ **完全未実装**
**必要性**: これがないとアプリが機能しない

#### 実装オプション（選択必要）
| オプション | 実装難易度 | 運用コスト | 推奨度 |
|-----------|------------|------------|---------|
| **A. HangFire** | 中 | 低（App Service内） | ⭐⭐⭐⭐ |
| **B. Azure Functions** | 高 | 中（別サービス） | ⭐⭐⭐ |
| **C. 手動同期のみ** | 低 | なし | ⭐⭐ |

#### 推奨実装計画（HangFire）
```csharp
// 必要な実装
1. HangFireパッケージインストール
2. Program.csにHangFire設定
3. 定期ジョブの実装
   - CustomerSyncJob（2時間毎）
   - OrderSyncJob（1時間毎）
   - ProductSyncJob（4時間毎）
4. ShopifyApiServiceの同期メソッド活用
```

**必要工数**: 2日間
**担当**: Takashi

---

## 📊 リリースまでの全体状況

### 完了済み機能 ✅
1. **基本インフラ**
   - Azure環境構築
   - CI/CD（GitHub Actions）
   - データベース設計

2. **認証・セキュリティ**
   - Shopify OAuth実装
   - JWT認証
   - マルチテナント対応

3. **フロントエンド**
   - ダッシュボード
   - 分析画面（休眠顧客、前年同月比、購入回数）
   - レスポンシブデザイン

4. **バックエンドAPI**
   - 分析API実装
   - データアクセス層

### 未実装機能 ❌

#### Critical（申請に必須）
| 機能 | 優先度 | 推定工数 | 担当 | 期限 |
|------|--------|----------|------|------|
| **Shopifyデータ同期** | 🔴最高 | 2日 | Takashi | 8/13 |
| **GDPR Webhooks** | 🔴最高 | 1日 | Takashi | 8/14 |
| **アンインストール処理** | 🔴最高 | 0.5日 | Takashi | 8/14 |
| **開発ページ除外** | 🟡高 | 1日 | Yuki | 8/13 |

#### Important（品質向上）
| 機能 | 優先度 | 推定工数 | 担当 | 状況 |
|------|--------|----------|------|------|
| エラーページ | 🟡高 | 0.5日 | Yuki | 未着手 |
| ローディング最適化 | 🟢中 | 0.5日 | Yuki | 未着手 |
| 多言語対応（英語） | 🟢中 | 1日 | Yuki | 部分的 |

#### Nice to Have（将来実装）
- AI分析機能
- 自動レポート生成
- メール通知機能
- CSVエクスポート機能

---

## 📅 8月18日申請までのスケジュール

### 8月12日（月）
**目標**: データ同期基盤の確立
- [ ] HangFire実装開始
- [ ] Azure環境変数設定（SHOPIFY_FRONTEND_BASEURL）
- [ ] Program.csへのサービス登録（StoreValidationService等）

### 8月13日（火）
**目標**: コア機能の完成
- [ ] データ同期ジョブ実装完了
- [ ] 開発ページの本番除外実装
- [ ] 初回データ同期テスト

### 8月14日（水）
**目標**: Shopify要件の完全対応
- [ ] GDPR Webhooks実装
- [ ] アンインストール処理実装
- [ ] 全機能統合テスト

### 8月15日（木）
**目標**: 品質保証とドキュメント
- [ ] エンドツーエンドテスト
- [ ] パフォーマンステスト
- [ ] ドキュメント最終化

### 8月16日（金）
**目標**: 申請準備完了
- [ ] スクリーンショット作成
- [ ] アプリ説明文最終化
- [ ] 申請フォーム記入準備

### 8月17日（土）
**目標**: 最終確認とバッファ
- [ ] 全機能の最終動作確認
- [ ] 申請書類の最終チェック
- [ ] バグ修正対応（必要な場合）

### 8月18日（日）
**Shopify App Store申請実施**

---

## 🎯 明日（8/12）の具体的タスク

### Takashi（バックエンド）
1. **09:00-12:00**: HangFire実装
   ```csharp
   // Program.cs
   builder.Services.AddHangfire(config => 
       config.UseSqlServerStorage(connectionString));
   builder.Services.AddHangfireServer();
   
   // Startup
   app.UseHangfireDashboard();
   RecurringJob.AddOrUpdate<CustomerSyncJob>(
       "sync-customers",
       job => job.Execute(),
       "0 */2 * * *");
   ```

2. **13:00-15:00**: 同期ジョブ実装
   - CustomerSyncJob
   - OrderSyncJob
   - ProductSyncJob

3. **15:00-17:00**: テスト実装

### Yuki（フロントエンド）
1. **09:00-12:00**: 開発ページ整理
   - `(development)`グループ作成
   - 環境変数による制御

2. **13:00-15:00**: インストールフロー修正
   - リダイレクト問題の解決確認

3. **15:00-17:00**: UI最終調整

### Kenji（PM/調整）
1. **09:00-10:00**: Azure環境設定
2. **10:00-12:00**: Program.cs更新
3. **13:00-17:00**: 統合テスト準備

---

## 🚀 成功のためのポイント

### 1. データ同期の確実な実装
- **最優先事項**: データがなければアプリは動かない
- **段階的実装**: まず手動同期、次に自動化
- **エラー処理**: API制限対応は必須

### 2. リスク管理
- **最大のリスク**: データ同期の実装遅延
- **対策**: 最小限の手動同期から開始
- **フォールバック**: 必要なら申請延期も検討

### 3. チーム連携
- **朝会**: 9:00に進捗確認
- **夕会**: 17:00に問題共有
- **ブロッカー**: 即座にエスカレーション

---

## 📝 申請チェックリスト（最終確認用）

### 技術要件 ✓
- [ ] OAuth認証（✅実装済み）
- [ ] GDPR Webhooks（❌未実装）
- [ ] アンインストール処理（❌未実装）
- [ ] データ同期（❌未実装）
- [ ] マルチテナント（✅実装済み）

### コンテンツ ✓
- [ ] アプリ名統一（✅EC Ranger）
- [ ] 説明文（📋準備中）
- [ ] スクリーンショット（❌未作成）
- [ ] アイコン（❌未作成）
- [ ] 価格設定（❌未決定）

### 運用準備 ✓
- [ ] サポート体制（❌未確立）
- [ ] ドキュメント（📋作成中）
- [ ] エラー監視（✅Application Insights）

---

## 🔴 エスカレーション事項

### 小野さんへの確認必要事項
1. **価格設定の最終決定**（申請に必須）
2. **サポート体制**（メールアドレス、対応時間）
3. **アイコン・画像素材**の準備状況

### 技術的決定事項
1. **データ同期方式**（HangFire vs Azure Functions）
2. **申請日程**: **8月18日に確定**

---

**注意**: データ同期機能なしでの申請は**不可能**です。
この機能の実装を最優先で進めてください。

**スケジュール余裕**: 8月18日申請により、実装に1週間の余裕ができました。
確実に品質の高いアプリケーションを完成させましょう。

更新: 2025年8月11日 19:00
次回更新: 2025年8月12日 09:00