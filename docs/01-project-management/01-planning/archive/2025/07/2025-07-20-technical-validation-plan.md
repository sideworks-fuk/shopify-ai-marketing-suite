# æŠ€è¡“æ¤œè¨¼è¨ˆç”»æ›¸ - äº‹å‰å‹•ä½œç¢ºèª

## ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±
- **ä½œæˆæ—¥**: 2025å¹´7æœˆ20æ—¥
- **ä½œæˆè€…**: AI Assistant
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0
- **ç›®çš„**: æœ¬æ ¼é–‹ç™ºå‰ã®å„æŠ€è¡“è¦ç´ ã®å‹•ä½œç¢ºèª

---

## ğŸ¯ æ¤œè¨¼ã®ç›®çš„

æœ¬æ ¼çš„ãªé–‹ç™ºã«å…¥ã‚‹å‰ã«ã€å„æŠ€è¡“è¦ç´ ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€æŠ€è¡“çš„ãªãƒªã‚¹ã‚¯ã‚’æ—©æœŸã«ç™ºè¦‹ãƒ»è§£æ±ºã™ã‚‹ã€‚

---

## ğŸ“Š æ¤œè¨¼é …ç›®ã¨å„ªå…ˆé †ä½

### Phase 1: åŸºç›¤æŠ€è¡“ã®ç¢ºèªï¼ˆ1-2æ—¥ï¼‰

#### 1.1 Azure SQL Database åŸºæœ¬å‹•ä½œç¢ºèª â­â­â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2-3æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. Azure Portal ã§ã®DBä½œæˆ
     - Basic ãƒ—ãƒ©ãƒ³ (5 DTU)
     - ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
  
  2. ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ã®æ¥ç¶šãƒ†ã‚¹ãƒˆ
     - SSMS ã§ã®æ¥ç¶š
     - ç°¡å˜ãªãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
     ```sql
     CREATE TABLE TestTable (
         Id INT PRIMARY KEY,
         Name NVARCHAR(100),
         CreatedAt DATETIME
     );
     ```
  
  3. ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
     - CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ
     - .bacpac ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  
æˆåŠŸåŸºæº–:
  - SSMSã‹ã‚‰æ¥ç¶šæˆåŠŸ
  - CRUDæ“ä½œãŒæ­£å¸¸å‹•ä½œ
  - ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæˆåŠŸ
```

#### 1.2 Azure App Service åŸºæœ¬ãƒ‡ãƒ—ãƒ­ã‚¤ â­â­â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2-3æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. æœ€å°é™ã®Web APIä½œæˆ
     ```csharp
     [ApiController]
     [Route("api/[controller]")]
     public class HealthController : ControllerBase
     {
         [HttpGet]
         public IActionResult Get()
         {
             return Ok(new { 
                 status = "healthy",
                 timestamp = DateTime.UtcNow,
                 message = "API is running!"
             });
         }
     }
     ```
  
  2. Azure ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
     - Visual Studio ã‹ã‚‰ã®ç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤
     - App Service ãƒ—ãƒ©ãƒ³: B1 Basic
  
  3. å‹•ä½œç¢ºèª
     - ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
     - Postman ã§ãƒ†ã‚¹ãƒˆ
  
æˆåŠŸåŸºæº–:
  - https://{app-name}.azurewebsites.net/api/health ãŒ200ã‚’è¿”ã™
  - JSON ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæ­£ã—ãè¡¨ç¤º
```

### Phase 2: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥ï¼‰

#### 2.1 API ã‹ã‚‰ Azure SQL ã¸ã®æ¥ç¶š â­â­â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. Entity Framework Core è¨­å®š
     ```csharp
     services.AddDbContext<TestDbContext>(options =>
         options.UseSqlServer(Configuration.GetConnectionString("DefaultConnection")));
     ```
  
  2. ç°¡å˜ãªCRUD APIä½œæˆ
     ```csharp
     [HttpGet("test-db")]
     public async Task<IActionResult> TestDatabase()
     {
         var count = await _context.TestTable.CountAsync();
         return Ok(new { recordCount = count });
     }
     ```
  
  3. æ¥ç¶šæ–‡å­—åˆ—ã®ç®¡ç†
     - App Service ã®è¨­å®šã§ç®¡ç†
     - Key Vault ã®ä½¿ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  
æˆåŠŸåŸºæº–:
  - APIã‹ã‚‰DBã«ã‚¢ã‚¯ã‚»ã‚¹æˆåŠŸ
  - ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿æ›¸ããŒæ­£å¸¸å‹•ä½œ
```

#### 2.2 Shopify API æ¥ç¶šãƒ†ã‚¹ãƒˆ â­â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 3-4æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. Shopify Partner ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæº–å‚™
     - Development Store ä½œæˆ
     - Custom App ä½œæˆ
     - API ã‚­ãƒ¼å–å¾—
  
  2. æœ€å°é™ã®Shopify APIå‘¼ã³å‡ºã—
     ```csharp
     [HttpGet("test-shopify")]
     public async Task<IActionResult> TestShopify()
     {
         var service = new ShopifySharp.ProductService(myShopDomain, accessToken);
         var products = await service.ListAsync();
         return Ok(new { 
             productCount = products.Count(),
             firstProduct = products.FirstOrDefault()?.Title
         });
     }
     ```
  
  3. èªè¨¼ãƒ•ãƒ­ãƒ¼ã®ç¢ºèª
     - OAuth 2.0 ãƒ•ãƒ­ãƒ¼
     - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†
  
æˆåŠŸåŸºæº–:
  - Shopify ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ
  - å•†å“æƒ…å ±ãŒæ­£ã—ãè¡¨ç¤º
```

#### 2.3 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã® API å‘¼ã³å‡ºã— â­â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. CORS è¨­å®š
     ```csharp
     services.AddCors(options =>
     {
         options.AddPolicy("AllowFrontend",
             builder => builder.WithOrigins("http://localhost:3000")
                               .AllowAnyMethod()
                               .AllowAnyHeader());
     });
     ```
  
  2. Next.js ã‹ã‚‰ã®å‘¼ã³å‡ºã—
     ```typescript
     const response = await fetch('https://{api-url}/api/health');
     const data = await response.json();
     console.log(data);
     ```
  
  3. èªè¨¼ãƒ˜ãƒƒãƒ€ãƒ¼ã®è¿½åŠ ï¼ˆç°¡æ˜“ç‰ˆï¼‰
     ```typescript
     const response = await fetch('https://{api-url}/api/test-db', {
         headers: {
             'Authorization': 'Bearer test-token'
         }
     });
     ```
  
æˆåŠŸåŸºæº–:
  - CORSã‚¨ãƒ©ãƒ¼ãªã—
  - ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ
  - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«çµæœè¡¨ç¤º
```

### Phase 3: å¿œç”¨ãƒ†ã‚¹ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ»1æ—¥ï¼‰

#### 3.1 ãƒãƒƒãƒå‡¦ç†ã®å‹•ä½œç¢ºèª â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2-3æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. Hangfire è¨­å®š
  2. ç°¡å˜ãªå®šæœŸã‚¸ãƒ§ãƒ–ä½œæˆ
  3. Azure ã§ã®å‹•ä½œç¢ºèª
  
æˆåŠŸåŸºæº–:
  - ã‚¸ãƒ§ãƒ–ãŒå®šæœŸå®Ÿè¡Œã•ã‚Œã‚‹
  - ãƒ­ã‚°ã§ç¢ºèªå¯èƒ½
```

#### 3.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ â­â­â­
```yaml
æ‰€è¦æ™‚é–“: 2æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. 1000ä»¶ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ
  2. API ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“æ¸¬å®š
  3. DB ã‚¯ã‚¨ãƒªæœ€é©åŒ–ç¢ºèª
  
æˆåŠŸåŸºæº–:
  - APIå¿œç­” < 1ç§’
  - åŒæ™‚æ¥ç¶š10ã§å®‰å®šå‹•ä½œ
```

#### 3.3 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª â­â­
```yaml
æ‰€è¦æ™‚é–“: 1æ™‚é–“
æ¤œè¨¼å†…å®¹:
  1. ä¾‹å¤–å‡¦ç†ã®å®Ÿè£…
  2. ãƒ­ã‚°å‡ºåŠ›ç¢ºèªï¼ˆApplication Insightsï¼‰
  3. ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®çµ±ä¸€
  
æˆåŠŸåŸºæº–:
  - ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚é©åˆ‡ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹
  - ãƒ­ã‚°ãŒæ­£ã—ãè¨˜éŒ²ã•ã‚Œã‚‹
```

---

## ğŸ“… å®Ÿæ–½ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¡ˆ

### æœ€é€Ÿãƒ—ãƒ©ãƒ³ï¼ˆ2æ—¥é–“ï¼‰
```
Day 1 AM: Azure SQL + App Service åŸºæœ¬ç¢ºèª
Day 1 PM: DBæ¥ç¶š + ç°¡å˜ãªAPIä½œæˆ
Day 2 AM: Shopifyæ¥ç¶šãƒ†ã‚¹ãƒˆ
Day 2 PM: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ
```

### æ¨™æº–ãƒ—ãƒ©ãƒ³ï¼ˆ3æ—¥é–“ï¼‰
```
Day 1: Phase 1 å®Œäº†ï¼ˆåŸºç›¤æŠ€è¡“ï¼‰
Day 2: Phase 2 å®Œäº†ï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆï¼‰
Day 3: Phase 3 å®Ÿæ–½ï¼ˆå¿œç”¨ãƒ†ã‚¹ãƒˆï¼‰+ å•é¡Œå¯¾å¿œ
```

---

## ğŸ› ï¸ å¿…è¦ãªæº–å‚™

### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ»ç’°å¢ƒ
- [ ] Azure ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™æ ã§OKï¼‰
- [ ] Shopify Partner ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- [ ] Visual Studio 2022 or VS Code
- [ ] .NET 8 SDK
- [ ] Node.js 18+
- [ ] SSMS or Azure Data Studio

### æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰æº–å‚™
- [ ] .NET Web API ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- [ ] Next.js ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- [ ] ãƒ†ã‚¹ãƒˆç”¨SQLã‚¹ã‚¯ãƒªãƒ—ãƒˆ

---

## âš ï¸ ã‚ˆãã‚ã‚‹å•é¡Œã¨å¯¾ç­–

### 1. Azure SQL æ¥ç¶šã‚¨ãƒ©ãƒ¼
```
å•é¡Œ: ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã§ãƒ–ãƒ­ãƒƒã‚¯
å¯¾ç­–: Azure Portal ã§ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨±å¯
```

### 2. CORS ã‚¨ãƒ©ãƒ¼
```
å•é¡Œ: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰APIã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
å¯¾ç­–: APIå´ã§é©åˆ‡ãªCORSè¨­å®š
```

### 3. Shopify API ãƒ¬ãƒ¼ãƒˆåˆ¶é™
```
å•é¡Œ: 429 Too Many Requests
å¯¾ç­–: ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨
```

### 4. ãƒ‡ãƒ—ãƒ­ã‚¤å¤±æ•—
```
å•é¡Œ: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
å¯¾ç­–: ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ç¢ºèªã€.NET ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
```

---

## ğŸ“Š æ¤œè¨¼å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆé …ç›®
- [ ] Azure SQL ã«æ¥ç¶šã§ãã‚‹
- [ ] App Service ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹
- [ ] API ã‹ã‚‰ DB ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- [ ] Shopify API ã‚’å‘¼ã³å‡ºã›ã‚‹
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ API ã‚’å‘¼ã³å‡ºã›ã‚‹

### ç¢ºèªæ¸ˆã¿é …ç›®
- [ ] æ¥ç¶šæ–‡å­—åˆ—ã®ç®¡ç†æ–¹æ³•
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã®æŒ™å‹•
- [ ] åŸºæœ¬çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
- [ ] ãƒ­ã‚°ã®å‡ºåŠ›å…ˆ

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ¤œè¨¼å®Œäº†å¾Œï¼š
1. æœ¬æ ¼çš„ãª DB ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ
2. è©³ç´°ãª API è¨­è¨ˆ
3. èªè¨¼ãƒ»èªå¯ã®å®Ÿè£…
4. CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰

---

## ğŸ“ ãƒ¡ãƒ¢ãƒ»æ°—ã¥ã

æ¤œè¨¼ä¸­ã«ç™ºè¦‹ã—ãŸå•é¡Œã‚„æ”¹å–„ç‚¹ã‚’è¨˜éŒ²ï¼š
- 
- 
- 

---

*ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯æ¤œè¨¼ã®é€²æ—ã«åˆã‚ã›ã¦æ›´æ–°ã—ã¦ãã ã•ã„* 