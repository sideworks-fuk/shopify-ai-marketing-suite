# 技術レビューチェックリスト - 2025年8月2日

## 🎯 目的
リリース前の技術的な問題を洗い出し、品質を確保する

## 📋 バックエンド確認項目（TAKASHI担当）

### マルチテナント実装
| ファイル/機能 | 確認項目 | 状態 | 備考 |
|--------------|----------|------|------|
| StoreContextMiddleware | JWT からの tenant_id/store_id 抽出 | ⏳ | |
| StoreAwareControllerBase | CurrentStoreId の実装 | ⏳ | |
| AnalyticsController | StoreId フィルター適用 | ⏳ | |
| CustomerController | StoreId フィルター適用 | ⏳ | |
| PurchaseController | StoreId フィルター適用 | ⏳ | |
| OrderController | StoreId フィルター適用 | ⏳ | |
| ProductController | StoreId フィルター適用 | ⏳ | |

### データベース最適化
| テーブル | インデックス | 状態 | 備考 |
|----------|-------------|------|------|
| Orders | StoreId | ⏳ | |
| Customers | StoreId | ⏳ | |
| Products | StoreId | ⏳ | |
| OrderItems | OrderId | ⏳ | |
| Stores | TenantId | ⏳ | |

### セキュリティ確認
- [ ] SQL インジェクション対策（パラメータ化クエリ）
- [ ] 認証トークンの有効期限設定
- [ ] シークレット情報のハードコーディング
- [ ] CORS 設定の適切性
- [ ] HTTPSの強制

### コード品質
- [ ] try-catch の適切な使用
- [ ] async/await の一貫性
- [ ] ログ出力の統一性
- [ ] 未使用の using 文
- [ ] マジックナンバーの定数化

## 📋 フロントエンド確認項目（YUKI担当）

### 認証・認可
| コンポーネント/機能 | 確認項目 | 状態 | 備考 |
|-------------------|----------|------|------|
| AuthContext | tenant_id の管理 | ⏳ | |
| API クライアント | Authorization ヘッダー | ⏳ | |
| ルート保護 | 未認証時のリダイレクト | ⏳ | |
| トークン更新 | 有効期限切れ処理 | ⏳ | |

### UI/UX 一貫性
| 項目 | 確認内容 | 状態 | 備考 |
|------|----------|------|------|
| ローディング | 統一されたスピナー | ⏳ | |
| エラー表示 | 一貫したメッセージ | ⏳ | |
| フォーム | バリデーション統一 | ⏳ | |
| レスポンシブ | モバイル対応 | ⏳ | |
| アクセシビリティ | キーボード操作 | ⏳ | |

### パフォーマンス
- [ ] 不要な再レンダリング（React.memo使用）
- [ ] 大きなリストの仮想化
- [ ] 画像の遅延読み込み
- [ ] バンドルサイズの確認
- [ ] コード分割の実装

### TypeScript品質
- [ ] any 型の使用箇所
- [ ] 型定義の欠落
- [ ] null/undefined チェック
- [ ] エラーハンドリング
- [ ] 未使用変数・import

## 🚨 重要度の定義

### 🔴 重大（リリースブロッカー）
- セキュリティ脆弱性
- データ漏洩の可能性
- 認証・認可の不具合
- データ整合性の問題

### 🟡 中程度（早期対応推奨）
- パフォーマンス問題
- UX の大きな問題
- エラーハンドリング不足
- ログ出力の不備

### 🟢 軽微（後日対応可）
- コードスタイル
- 軽微な UI の不統一
- リファクタリング候補
- ドキュメント不足

## 📝 問題報告フォーマット

```markdown
### 問題ID: [連番]
**重要度**: 🔴/🟡/🟢
**カテゴリ**: セキュリティ/パフォーマンス/品質/UX
**ファイル**: [ファイルパス]
**行番号**: [該当行]
**問題内容**: 
**改善案**: 
**見積時間**: 
```

## ⏰ レビュースケジュール

| 時刻 | アクション |
|------|-----------|
| 9:30-11:00 | 個別レビュー実施 |
| 11:00 | 第1回報告（マルチテナント確認） |
| 11:00-13:00 | 技術的負債の洗い出し |
| 13:00 | 第2回報告（技術的負債リスト） |
| 13:00-14:00 | 重大問題の即時修正 |
| 14:00-17:00 | 実装作業 |

---

作成: 2025-08-02 09:30
作成者: KENJI