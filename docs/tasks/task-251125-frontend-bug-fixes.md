# タスク: フロントエンド不具合修正

## タスク情報
- タスクID: 251125-frontend-bugs
- 作成日: 2025-11-25
- 優先度: 高
- 状況: 進行中
- 担当: 福田＋AI Assistant (Kenji)

## 作業内容

### 目標
EC Rangerアプリケーションのフロントエンド不具合を優先度順に修正し、ユーザー体験を改善する

### 前提条件・制約
- 既存のデザインシステム（shadcn/ui、Lucide React）を活用
- TypeScript strict modeを維持
- 不要な新規ライブラリは追加しない
- Phase 1の範囲内で対応（Phase 2機能は仕様確認のみ）

## 優先度別タスクリスト

### 🔴 最優先（ユーザー体験に直接影響）

#### 1. 休眠顧客数の集計不一致 
- [ ] 問題: 「総休眠顧客数」と「休眠顧客一覧」の人数が一致しない
- [ ] 影響: データの信頼性に関わる重大な問題
- [ ] 推定作業時間: 1-2時間
- [ ] 対応内容:
  - [ ] 休眠顧客の集計ロジックを確認
  - [ ] APIレスポンスとフロントエンドの集計を照合
  - [ ] 必要に応じてバックエンドAPIも確認

#### 2. 休眠率が0%表示
- [ ] 問題: 休眠率が常に0%と表示される
- [ ] 影響: コア機能の計算エラー
- [ ] 推定作業時間: 1-2時間
- [ ] 対応内容:
  - [ ] 休眠率の計算式を確認
  - [ ] データ取得と計算ロジックの修正

#### 3. ログイン/ログアウトメニューの欠如
- [ ] 問題: 適切なログイン/ログアウトメニューが存在しない
- [ ] 影響: ユーザーがログアウトできない
- [ ] 推定作業時間: 1-2時間
- [ ] 対応内容:
  - [ ] ヘッダーにユーザーメニューを追加
  - [ ] ログアウト機能の実装
  - [ ] 認証状態の表示

### 🟡 中優先（機能性・UI一貫性）

#### 4. 環境依存絵文字のアクセシビリティ問題
- [ ] 問題: メニューのアイコンに環境依存絵文字が使用されている
- [ ] 影響: 一部環境で表示崩れの可能性
- [ ] 推定作業時間: 2-3時間
- [ ] 対応内容:
  - [ ] すべての絵文字をLucide Reactアイコンに置換
  - [ ] アイコンの一意性を確保（同じアイコンの使い回しを避ける）

#### 5. 商品別月次推移データ表のUI不整合
- [ ] 問題: テーブルUIが不整合
- [ ] 影響: データ表示の見やすさ
- [ ] 推定作業時間: 30分-1時間
- [ ] 対応内容:
  - [ ] テーブルのスタイリング修正
  - [ ] レスポンシブ対応の確認

#### 6. ページネーション表記バグ
- [ ] 問題: ページ数が4のときに表記バグが発生
- [ ] 影響: 4ページ時のみの限定的な問題
- [ ] 推定作業時間: 30分
- [ ] 対応内容:
  - [ ] ページネーションコンポーネントのロジック修正
  - [ ] エッジケースのテスト

### 🟢 低優先（表示・文言の改善）

#### 7. 時計アイコンの位置ずれ
- [ ] 問題: データ同期ダッシュボードで時計アイコンが上にずれている
- [ ] 影響: 見た目のみの問題
- [ ] 推定作業時間: 15分
- [ ] 対応内容:
  - [ ] CSSの調整（vertical-align等）

#### 8. 前年0データ時の比率計算
- [ ] 問題: 前年データが0の場合に比率が算出される
- [ ] 影響: エッジケースの表示問題
- [ ] 推定作業時間: 30分
- [ ] 対応内容:
  - [ ] ゼロ除算のハンドリング追加
  - [ ] 適切な表示文言（N/A等）の設定

#### 9. 表記統一（休眠顧客/顧客）
- [ ] 問題: 「休眠顧客」と「顧客」の表記が混在
- [ ] 影響: 一貫性の問題
- [ ] 推定作業時間: 30分
- [ ] 対応内容:
  - [ ] 全体的な文言の統一

### ⚪ 検討事項（仕様確認が必要）

#### 10. 一括送信機能
- [ ] 問題: メール・ギフトの一括送信機能が存在しない
- [ ] 状況: Phase 2機能の可能性
- [ ] 対応: 仕様確認とロードマップの確認

#### 11. AI分析機能の表記
- [ ] 問題: 「AI分析を実行」と記載があるが機能が確認できない
- [ ] 状況: 将来実装予定機能
- [ ] 対応: 表記の見直しまたは機能説明の追加

## 進捗メモ
- [2025-11-25 12:24] タスク作成、優先順位の整理完了

## 完了条件
- [ ] 最優先3項目の修正完了
- [ ] 中優先3項目の修正完了
- [ ] 低優先3項目の修正完了
- [ ] 検討事項の仕様確認完了
- [ ] 動作テストの実施
- [ ] 作業ログの作成

## 関連ファイル
- フロントエンドソース: `frontend/src/`
- UIコンポーネント: `frontend/src/components/`
- ページコンポーネント: `frontend/src/app/`
- API Routes: `frontend/src/app/api/`

## 作業開始コマンド
```powershell
# フロントエンド開発サーバー起動
cd frontend
npm run dev

# バックエンドAPI確認（必要な場合）
cd backend/ShopifyAnalyticsApi
dotnet run
```

## 注意事項
- 修正作業は一つずつ確実に進める
- 各修正後は動作確認を必須とする
- ブラウザでの実際の表示確認を行う
- コミットは機能単位で細かく行う
