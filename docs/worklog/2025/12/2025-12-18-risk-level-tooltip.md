# 作業ログ: リスクレベルのツールチップ追加

## 作業情報
- 開始日時: 2025-12-18 13:00:00
- 完了日時: 2025-12-18 13:30:00
- 所要時間: 30分
- 担当: 福田＋AI Assistant

## 作業概要
休眠顧客一覧画面のリスクレベルにツールチップを追加し、判定基準と推奨アクションを表示

## 実施内容

### 1. Tooltipコンポーネントのインポート
```tsx
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"
```

### 2. リスクレベル定義の追加
各リスクレベルに対して以下の情報を定義：
- **label**: 表示ラベル（低/中/高/危険）
- **description**: 休眠期間の説明
- **detail**: 詳細な状態説明
- **action**: 推奨アクション

```typescript
const riskLevelDefinitions = {
  low: {
    label: "低",
    description: "休眠期間: 0-90日",
    detail: "最近購入があった顧客。定期的なフォローで関係維持。",
    action: "ニュースレターや新商品情報の定期配信"
  },
  // ... 他のレベル
}
```

### 3. テーブルヘッダーにヘルプアイコン追加
リスクレベル列のヘッダーに「？」アイコンを追加し、ホバー時に判定基準を表示：

- 危険: 365日以上
- 高: 181-365日
- 中: 91-180日
- 低: 0-90日
- ※優良顧客（購入10回以上）は1段階リスクが下がる

### 4. 各リスクバッジにツールチップ追加
個別のリスクレベルバッジにホバーすると、そのレベルの詳細情報と推奨アクションを表示

## 技術的変更点

### DormantCustomerList.tsx
1. **Tooltipコンポーネントの導入**
   - shadcn/uiのTooltipを使用
   - TooltipProviderで囲んで実装

2. **リスクレベル定義オブジェクトの作成**
   - 各レベルの情報を一元管理
   - 判定基準、説明、アクションを含む

3. **インタラクティブな情報提供**
   - ヘッダーの「？」アイコンで全体説明
   - 個別バッジホバーで詳細情報

## ビジネス価値

### ユーザーメリット
1. **理解促進**: リスクレベルの意味が明確に
2. **アクション指針**: 各レベルに応じた対応方法が分かる
3. **効率化**: マニュアルを見なくても画面上で確認可能

### マーケティング効果
- 適切な施策立案の支援
- 顧客セグメントごとの最適なアプローチ
- 離脱防止の早期対応

## 成果物
- frontend/src/components/dashboards/dormant/DormantCustomerList.tsx（更新）

## テスト確認項目
- [ ] ヘッダーの「？」アイコンホバーで判定基準表示
- [ ] 各リスクレベルバッジホバーで詳細表示
- [ ] ツールチップの表示位置が適切
- [ ] モバイル表示でも動作確認

## 今後の改善案
1. リスクレベルの閾値をカスタマイズ可能に
2. 業種別の推奨アクションテンプレート
3. リスクレベル変化の履歴グラフ

## 関連ファイル
- 12/10議事録（要望元）
- docs/05-development/06-Shopify連携/休眠顧客一覧_リスクレベル仕様と改善案_2024-12.md









