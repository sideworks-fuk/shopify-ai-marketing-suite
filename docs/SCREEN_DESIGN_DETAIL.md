# 画面仕様書（詳細版）

---

## ②-1 前年同月比【商品】

### 目的
商品別の売上トレンドを前年と比較し、成長・低下商品を特定する

### 顧客価値
- 売上低下商品の早期発見
- 成長商品の特定
- 在庫計画の最適化
- 販売機会損失（在庫切れ等）の防止

### 現状評価
✅ **実装度 95%** - ほぼ完成状態

### 主な画面要素
- 商品別売上グラフ（前年/今年、棒グラフ・折れ線グラフ）
- 商品リスト・フィルタ（カテゴリ、売上順、検索）
- 詳細モーダル（商品ごとの売上推移・前年比較）
- KPIカード（前年比率、成長率上位/下位商品数）
- アラート表示（売上低下商品）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 前年同月比計算ロジック（金額・数量両対応）
- 新商品・データ欠損時の例外処理

### 画面遷移・操作
- 商品選択で詳細モーダル表示
- 期間・商品フィルタ切替（年度・月・カテゴリ等）
- グラフの表示切替（棒/折れ線、金額/数量）
- アラートクリックで該当商品へジャンプ

### 確認事項（顧客確認ポイント）
1. 前年同月比の計算は「金額」「数量」どちらを優先？両方表示？
2. 前年データがない新商品の表示方法（「新商品」ラベル等）は？
3. 成長率の閾値設定（何%以上で「好調」/「要注意」）は必要？
4. 月次以外（四半期・年次）比較も必要？
5. 商品カテゴリ・ブランド等での絞り込み要否
6. データ欠損時の表示仕様（例：グレーアウト、注釈表示）

### 価値向上の提案
- **アラート機能**: 前年比-20%以下で自動通知
- **トレンド予測**: 来月・今期の売上予測グラフ
- **要因分析**: 売上変動の要因（価格変更、在庫切れ等）の可視化
- **ダウンロード機能**: グラフ・データのCSV/PDF出力
- **カスタム閾値設定**: ユーザーごとにアラート閾値を調整可能

---

## ②-2 購入頻度【商品】

### 目的
商品別のリピート購入パターンを分析し、リピート率の高い商品や定番化候補を特定する

### 顧客価値
- リピート率の高い商品の特定
- サンプル品同梱や定番商品化の候補発見
- 商品ごとのLTV向上施策の立案
- 離脱リスク商品の早期発見

### 現状評価
✅ **実装度 98%** - ほぼ完成、12回以上の拡張のみ

### 主な画面要素
- 商品別購入回数分布グラフ（ヒストグラム・棒グラフ）
- リピート率ランキングテーブル
- フィルタ（期間、カテゴリ、回数帯）
- KPIカード（リピート率上位商品数、平均リピート率等）
- 詳細モーダル（商品ごとのリピート推移・コホート分析）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 購入回数・リピート率の集計ロジック
- コホート分析（初回購入時期別リピート推移）

### 画面遷移・操作
- 商品選択で詳細モーダル表示
- 期間・カテゴリ・回数帯フィルタ切替
- グラフの表示切替（回数帯別/商品別）
- ランキングテーブルから商品詳細へジャンプ

### 確認事項（顧客確認ポイント）
1. 「12回以上」を「12回」「13-20回」「21回以上」など細分化しますか？
2. 期間設定は「全期間」「年度」「四半期」どれを基準にしますか？
3. 商品カテゴリー別の集計も必要ですか？
4. 初回購入からの経過期間も考慮しますか？
5. リピート率の定義（2回目以降/全体、3回目以降/全体等）は？

### 価値向上の提案
- **コホート分析**: 初回購入時期別のリピート推移
- **離脱予測**: リピート停止リスクの高い商品の特定
- **LTV予測**: 商品別の顧客生涯価値算出
- **セグメント別施策提案**: AIによる最適施策レコメンド
- **グラフ・データのダウンロード**: CSV/PDF出力

---

## ②-3 組み合わせ商品【商品】

### 目的
一緒に購入される商品の組み合わせ（マーケットバスケット）を分析し、クロスセルやセット販売の機会を発見する

### 顧客価値
- セット販売による客単価向上
- レコメンデーション精度向上
- 在庫の効率的な消化
- クロスセル施策の立案

### 現状評価
❌ **実装度 40%** - 主要機能が未実装

### 主な画面要素
- 組み合わせ商品ランキング（テーブル・グラフ）
- 組み合わせネットワーク図（ノードリンクチャート等）
- フィルタ（期間、カテゴリ、最小支持度、除外商品）
- KPIカード（組み合わせ数、リフト値上位組み合わせ等）
- 詳細モーダル（組み合わせごとの売上・リフト値・推移）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- マーケットバスケット分析（アソシエーションルール、リフト値・支持度・信頼度計算）
- 除外商品・期間・カテゴリ等の条件指定

### 画面遷移・操作
- 組み合わせ選択で詳細モーダル表示
- フィルタ切替（期間・カテゴリ・支持度・除外商品）
- ネットワーク図とランキングの表示切替
- KPIカードクリックで該当組み合わせへジャンプ

### 確認事項（顧客確認ポイント）
1. 組み合わせ分析の最小支持度（何件以上で有意とするか）は？
2. 季節性を考慮した期間設定は必要ですか？
3. 除外商品（送料、ラッピング等）の設定は必要ですか？
4. 3つ以上の商品組み合わせ分析も必要ですか？
5. リフト値・信頼度の閾値設定は必要ですか？
6. 組み合わせの売上貢献度表示も必要ですか？

### 価値向上の提案
- **リフト値表示**: 組み合わせの相関強度の可視化
- **売上シミュレーション**: セット販売時の売上予測
- **在庫連動**: 組み合わせ商品の在庫状況表示
- **AIレコメンド連携**: 機械学習による組み合わせ最適化
- **グラフ・データのダウンロード**: CSV/PDF出力

---

## ②-4 月別売上統計【購買】

### 目的
商品別×月別の売上推移を数量・金額で把握し、季節トレンドや在庫・仕入計画の最適化に活用する

### 顧客価値
- 商品別の季節トレンド把握
- 仕入れ・在庫計画の最適化
- 売上予測の精度向上
- 重要商品の自動ハイライト

### 現状評価
✅ **実装度 90%** - 基本機能は実装済み

### 主な画面要素
- 月別売上推移グラフ（商品別・金額/数量切替、棒グラフ・折れ線グラフ）
- 商品リスト・フィルタ（カテゴリ、売上順、検索）
- KPIカード（季節指数、売上上位商品数等）
- 詳細モーダル（商品ごとの月別推移・前年比較）
- ページング・商品選択UI

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 月別・商品別の集計ロジック（金額・数量両対応）
- 季節指数・ABC分析等の自動計算
- 返品・キャンセルデータの考慮

### 画面遷移・操作
- 商品選択で詳細モーダル表示
- 月・商品・カテゴリフィルタ切替
- グラフの表示切替（金額/数量、棒/折れ線）
- ページング・商品選択UIで大量商品に対応

### 確認事項（顧客確認ポイント）
1. 商品数が10を超える場合の表示方法（ページング、選択式等）は？
2. 金額は「税込」「税抜」どちらで表示しますか？
3. 返品・キャンセルの扱いはどうしますか？
4. 前年同月の数値も併記しますか？
5. 季節指数やABC分析の自動計算は必要ですか？
6. 商品ごとの注釈・メモ表示も必要ですか？

### 価値向上の提案
- **季節指数算出**: 月別の季節変動係数の自動計算
- **在庫回転率表示**: 売上と在庫の連動分析
- **ABC分析統合**: 重要商品の自動ハイライト
- **グラフ・データのダウンロード**: CSV/PDF出力
- **カスタム集計期間**: ユーザー指定の期間で集計可能

---

## ②-5 購入回数【購買】

### 目的
顧客の購入回数別セグメント分析と前年比較を行い、リピーター転換率やLTV向上施策の効果を把握する

### 顧客価値
- 新規→リピーターへの転換率把握
- ロイヤルカスタマーの特定と育成
- マーケティング施策のROI測定
- 購入回数別の将来価値予測

### 現状評価
✅ **実装度 95%** - ほぼ完成状態

### 主な画面要素
- 購入回数分布グラフ（ヒストグラム・棒グラフ）
- セグメント別KPIカード（新規/リピーター/ロイヤル等）
- 購入回数別リスト・テーブル
- フィルタ（期間、会員/非会員、B2B/B2C等）
- 詳細モーダル（顧客ごとの購入履歴・推移）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 購入回数・転換率・LTVの集計ロジック
- 会員/非会員・B2B/B2Cの区別集計
- 購入間隔（日数）分析

### 画面遷移・操作
- セグメント選択で詳細モーダル表示
- フィルタ切替（期間、会員/非会員、B2B/B2C等）
- グラフの表示切替（回数帯別/顧客別）
- テーブルから顧客詳細へジャンプ

### 確認事項（顧客確認ポイント）
1. 「購入回数」は注文回数？商品購入回数？
2. B2BとB2Cの顧客を分けて集計しますか？
3. 会員/非会員の区別は必要ですか？
4. 購入間隔（日数）の分析も追加しますか？
5. セグメント定義（新規/リピーター/ロイヤル等）はカスタマイズ可能？

### 価値向上の提案
- **転換率分析**: 各段階での離脱率と改善ポイント
- **CLV予測**: 購入回数別の将来価値予測
- **セグメント別施策提案**: AIによる最適施策レコメンド
- **グラフ・データのダウンロード**: CSV/PDF出力
- **カスタムセグメント設定**: ユーザーごとにセグメント定義を調整可能

---

## ②-6 F階層傾向【購買】

### 目的
購入頻度（Frequency）による顧客階層の時系列変化を分析し、ロイヤリティ推移やリテンション施策の効果を可視化する

### 顧客価値
- 顧客ロイヤリティの時系列変化把握
- 季節要因による購買行動分析
- リテンション施策の効果測定
- 離脱リスク顧客の早期発見

### 現状評価
🟡 **実装度 80%** - 基本実装済み、分析機能強化が必要

### 主な画面要素
- F階層分布グラフ（時系列・ヒートマップ・棒グラフ）
- 階層移動チャート（サンキー図・遷移マトリクス）
- KPIカード（階層別人数・売上・移動率等）
- フィルタ（期間、階層定義、顧客属性等）
- 詳細モーダル（顧客ごとの階層推移・履歴）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- F階層（購入頻度）集計・時系列遷移ロジック
- 階層定義のカスタマイズ対応
- RFM全体分析との連携

### 画面遷移・操作
- 階層選択で詳細モーダル表示
- フィルタ切替（期間、階層定義、属性等）
- グラフの表示切替（分布/遷移/ヒートマップ等）
- KPIカードクリックで該当階層へジャンプ

### 確認事項（顧客確認ポイント）
1. F階層の定義（何回でどの階層か）は固定？カスタマイズ可能？
2. 表示は「人数」「金額」「両方」のどれを優先？
3. 前月からの移動（F2→F3等）も可視化しますか？
4. RFM全体での分析も必要ですか？
5. 階層ごとの注釈・メモ表示も必要ですか？

### 価値向上の提案
- **階層移動分析**: F階層間の顧客流動の可視化
- **離脱アラート**: F階層ダウングレードの自動検知
- **施策効果測定**: F階層改善と施策の相関分析
- **グラフ・データのダウンロード**: CSV/PDF出力
- **カスタム階層設定**: ユーザーごとに階層定義を調整可能

---

## ②-7 顧客購買【顧客】

### 目的
顧客別の詳細な購買プロファイルを分析し、VIP顧客の特定やパーソナライズ施策、個別フォローアップに活用する

### 顧客価値
- VIP顧客への個別アプローチ
- 顧客別の嗜好把握によるパーソナライズ
- 解約リスクの早期発見
- 顧客ごとのLTV最大化

### 現状評価
🟡 **実装度 70%** - 基本機能のみ、詳細情報拡充が必要

### 主な画面要素
- 顧客リスト・検索・フィルタ（ランク、属性、購入傾向等）
- 顧客詳細モーダル（購買履歴、最終購買商品、推奨アクション）
- KPIカード（LTV、購入回数、最終購入日等）
- 顧客メモ・タグ機能
- 顧客ランク表示（VIP/リピーター/新規等）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 顧客ごとの購買履歴・LTV・ランク自動判定
- 顧客メモ・タグ管理
- 解約リスクスコア・ネクストアクション算出

### 画面遷移・操作
- 顧客選択で詳細モーダル表示
- フィルタ・検索・ランク切替
- 顧客メモ・タグ編集
- 推奨アクション実行（メール送信等）

### 確認事項（顧客確認ポイント）
1. 「最終購買商品」も表示しますか？
2. 顧客ランク（VIP等）の自動判定基準は？
3. 連絡先情報（メール、電話）も統合表示しますか？
4. 顧客メモ・タグ機能は必要ですか？
5. 解約リスクスコアやネクストアクションの自動算出も必要ですか？

### 価値向上の提案
- **顧客スコアリング**: 購買力・ロイヤリティの総合評価
- **ネクストベストアクション**: AIによる最適施策提案
- **顧客カルテ機能**: 接触履歴・メモの一元管理
- **グラフ・データのダウンロード**: CSV/PDF出力
- **カスタムランク設定**: ユーザーごとにランク定義を調整可能

---

## ②-8 休眠顧客【顧客】

### 目的
最終購入からの経過期間別に顧客を分類・管理し、解約リスクの早期発見や復帰施策の最適タイミング把握、離脱要因分析を行う

### 顧客価値
- 解約リスク顧客の早期発見と対策
- 復帰施策の最適タイミング把握
- 顧客離脱要因の分析
- 休眠顧客の復帰率向上

### 現状評価
🟡 **実装度 75%** - 基本表示のみ、分析機能強化が必要

### 主な画面要素
- 休眠顧客リスト・フィルタ（経過期間、属性、購買傾向等）
- 休眠理由分布グラフ
- KPIカード（休眠率、平均休眠期間、復帰率、損失額、回復売上等）
- 復帰インサイト・推奨アクション表示
- 詳細モーダル（顧客ごとの休眠履歴・復帰施策）

### データ取得・処理
- DataService経由でShopifyAPIまたはモックデータから取得
- 休眠判定ロジック（最終購入日・経過期間・頻度等）
- 復帰顧客の追跡・施策効果測定
- 離脱要因分析（商品・時期・属性等）

### 画面遷移・操作
- 顧客選択で詳細モーダル表示
- フィルタ切替（経過期間、属性、傾向等）
- 推奨アクション実行（メール配信等）
- 休眠顧客リストから復帰顧客リストへの遷移

### 確認事項（顧客確認ポイント）
1. 休眠の定義（最終購入から何日）はカスタマイズ可能？
2. 休眠前の購買頻度も考慮しますか？（高頻度顧客の休眠は要注意等）
3. 復帰した顧客の追跡も必要ですか？
4. 自動メール配信等のアクション機能も必要ですか？
5. 離脱要因分析の粒度（商品・時期・属性等）はどこまで必要？

### 価値向上の提案
- **休眠リスクスコア**: 多変量解析による離脱予測
- **復帰率分析**: 施策別の顧客復帰効果測定
- **離脱要因分析**: 商品・時期・顧客属性での要因特定
- **自動アクション**: 休眠期間に応じた自動施策実行
- **グラフ・データのダウンロード**: CSV/PDF出力

---

*最終更新: 2025年5月25日（②-8詳細仕様）*
*作成者: AI Assistant* 