# Shopify ECãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åˆ†æã‚¢ãƒ—ãƒª - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
3. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
4. [æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®](#æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®)
5. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°)
6. [æŠ€è¡“çš„è² å‚µã¨æ”¹å–„ç‚¹](#æŠ€è¡“çš„è² å‚µã¨æ”¹å–„ç‚¹)
7. [ä»Šå¾Œã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»](#ä»Šå¾Œã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»)

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç›®çš„
Shopifyã‚¹ãƒˆã‚¢é‹å–¶è€…å‘ã‘ã®**AIã‚’æ´»ç”¨ã—ãŸè³¼è²·ãƒ‡ãƒ¼ã‚¿åˆ†æã¨DMä½œæˆãƒ»éƒµé€è‡ªå‹•åŒ–**ã‚’å®Ÿç¾ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

### ä¸»è¦æ©Ÿèƒ½
- **å£²ä¸Šåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: å£²ä¸Šæ¨ç§»ã€å•†å“åˆ¥å£²ä¸Šã€å‰å¹´æ¯”è¼ƒãªã©ã‚’å¯è¦–åŒ–
- **é¡§å®¢åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã€è³¼å…¥é »åº¦ã€ãƒªãƒ”ãƒ¼ãƒˆç‡ãªã©ã‚’åˆ†æ
- **AIåˆ†æã‚¤ãƒ³ã‚µã‚¤ãƒˆ**: ãƒˆãƒ¬ãƒ³ãƒ‰äºˆæ¸¬ã€ç•°å¸¸æ¤œçŸ¥ã€æ¨å¥¨æ–½ç­–ã‚’è‡ªå‹•ç”Ÿæˆ
- **DMä½œæˆãƒ»éƒµé€æ©Ÿèƒ½**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢ã®æŠ½å‡ºã¨DMä½œæˆãƒ»éƒµé€ã®è‡ªå‹•åŒ–ï¼ˆé–‹ç™ºä¸­ï¼‰

---

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```plaintext
shopify-ai-marketing-suite/
â”œâ”€â”€ ğŸ“ src/                         # ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ğŸ“ app/                     # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                 # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ shopify/         # Shopify APIçµ±åˆ
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ products/    # å•†å“API
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ orders/      # æ³¨æ–‡API
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ customers/   # é¡§å®¢API
â”‚   â”‚   â”œâ”€â”€ layout.tsx              # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx                # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ globals.css             # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ ğŸ“ components/              # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboards/          # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ customers/       # é¡§å®¢åˆ†æã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ sales/           # å£²ä¸Šåˆ†æã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ dormant/         # ä¼‘çœ é¡§å®¢åˆ†æã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ ...                 # ãã®ä»–åˆ†æ
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  # shadcn/uiãƒ™ãƒ¼ã‚¹UIéƒ¨å“
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé–¢é€£
â”‚   â”‚   â”œâ”€â”€ ğŸ“ common/              # å…±é€šéƒ¨å“
â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx       # ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª
â”‚   â”œâ”€â”€ ğŸ“ lib/                     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»APIãƒ»ãƒ‡ãƒ¼ã‚¿å±¤
â”‚   â”‚   â”œâ”€â”€ shopify.ts              # ShopifyAPIã‚¯ãƒ©ã‚¹ãƒ»å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ data-service.ts         # DataServiceã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”œâ”€â”€ formatters.ts           # ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿
â”‚   â”‚   â”œâ”€â”€ utils.ts                # æ±ç”¨é–¢æ•°
â”‚   â”‚   â”œâ”€â”€ sample-products.ts      # ã‚µãƒ³ãƒ—ãƒ«å•†å“ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â””â”€â”€ data-access/            # å‹ãƒ»APIæ‹¡å¼µ
â”‚   â”œâ”€â”€ ğŸ“ contexts/                # ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ AppContext.tsx
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ useCustomerTable.ts
â”‚   â”œâ”€â”€ ğŸ“ data/                    # ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¢ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ mock/
â”‚   â”‚       â””â”€â”€ customerData.ts     # é¡§å®¢ãƒ»ä¼‘çœ ãƒ»åˆ†æç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ ...
```

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆ2025å¹´6æœˆ16æ—¥æ›´æ–°ï¼‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Next.js**: 14 (App Router)
- **React**: 18
- **TypeScript**: 5
- **Tailwind CSS**: 3.4.17
- **Shopify Polaris**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆShopifyå…¬å¼ï¼‰
- **shadcn/ui**: è£œå®ŒUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`src/components/ui/`ã«é›†ç´„ï¼‰
- **Radix UI**: ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Lucide React**: ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Recharts**: ãƒãƒ£ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰
- **ASP.NET Core**: 8.0
- **Entity Framework Core**: 8.0
- **Azure SQL Database**: Standard S2
- **JWT Authentication**: èªè¨¼ãƒ»èªå¯
- **AutoMapper**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°

### ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ»åˆ†æ
- **React Hook Form**: ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
- **Zod**: ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **date-fns**: æ—¥ä»˜å‡¦ç†
- **LINQ**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª

### Shopifyçµ±åˆ
- **Shopify GraphQL API**: ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»æ“ä½œ
- **Shopify REST Admin API**: ç®¡ç†æ©Ÿèƒ½
- **OAuth 2.0**: èªè¨¼ãƒ•ãƒ­ãƒ¼
- **Webhook**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€£æº
- **ShopifyAPIã‚¯ãƒ©ã‚¹**: `src/lib/shopify.ts`ã§å®Ÿè£…
- **DataServiceã‚¯ãƒ©ã‚¹**: `src/lib/data-service.ts`ã§APIãƒ©ãƒƒãƒ‘ãƒ¼ãƒ»é›†è¨ˆ

### çŠ¶æ…‹ç®¡ç†
- **Zustand**: è»½é‡çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **React Query**: ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç®¡ç†
- **React Context API**: è£œå®Œçš„ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰
- **Microsoft Azure**: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- **Azure App Service**: Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **Azure SQL Database**: ãƒãƒãƒ¼ã‚¸ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Azure Key Vault**: æ©Ÿå¯†æƒ…å ±ç®¡ç†
- **Azure Application Insights**: ç›£è¦–ãƒ»ãƒ­ã‚°åˆ†æ
- **GitHub Actions**: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

---

## ğŸ“‚ æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

### å£²ä¸Šåˆ†ææ©Ÿèƒ½
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** | `src/components/dashboards/SalesDashboard.tsx` | KPIè¡¨ç¤ºã€æœŸé–“é¸æŠã€ã‚¿ãƒ–ç®¡ç† |
| **å¹´æ¬¡å•†å“åˆ†æ** | `src/components/dashboards/YearOverYearProductAnalysis.tsx` | å‰å¹´åŒæœˆæ¯”å•†å“åˆ†æ |
| **è³¼å…¥é »åº¦åˆ†æ** | `src/components/dashboards/ProductPurchaseFrequencyAnalysis.tsx` | å•†å“åˆ¥è³¼å…¥é »åº¦ |
| **è©³ç´°åˆ†æ** | `src/components/dashboards/PurchaseFrequencyDetailAnalysis.tsx` | è³¼å…¥å›æ•°è©³ç´°åˆ†æ |
| **çµ±åˆåˆ†æãƒšãƒ¼ã‚¸** | `src/components/dashboards/IntegratedPurchaseAnalysisPage.tsx` | çµ±åˆè³¼å…¥åˆ†æ |
| **ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | `src/components/dashboards/sales/` | åˆ†å‰²ã•ã‚ŒãŸUIãƒ»ãƒ­ã‚¸ãƒƒã‚¯ |

### é¡§å®¢åˆ†ææ©Ÿèƒ½
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **é¡§å®¢ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** | `src/components/dashboards/CustomerDashboard.tsx` | é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã€RFMåˆ†æ |
| **ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†æ** | `src/components/dashboards/CustomerSegmentAnalysis.tsx` | é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆè©³ç´°åˆ†æ |
| **ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | `src/components/dashboards/customers/` | åˆ†å‰²ã•ã‚ŒãŸUIãƒ»ãƒ­ã‚¸ãƒƒã‚¯ |

### AIåˆ†ææ©Ÿèƒ½
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ** | `src/components/dashboards/AIInsightsDashboard.tsx` | AIåˆ†æçµæœè¡¨ç¤º |

### ä¼‘çœ é¡§å®¢åˆ†ææ©Ÿèƒ½
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **ä¼‘çœ é¡§å®¢ãƒªã‚¹ãƒˆ** | `src/components/dashboards/dormant/DormantCustomerList.tsx` | ä¼‘çœ é¡§å®¢ä¸€è¦§ãƒ»ç®¡ç† |
| **å¾©å¸°ã‚¤ãƒ³ã‚µã‚¤ãƒˆ** | `src/components/dashboards/dormant/ReactivationInsights.tsx` | å¾©å¸°æ–½ç­–ãƒ»ã‚¤ãƒ³ã‚µã‚¤ãƒˆ |

### ãƒ‡ãƒ¼ã‚¿å±¤
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **Shopify API** | `src/lib/shopify.ts` | Shopify APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»å‹å®šç¾© |
| **ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒ“ã‚¹** | `src/lib/data-service.ts` | ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»é›†è¨ˆãƒ»åˆ†æAPIãƒ©ãƒƒãƒ‘ãƒ¼ |
| **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£** | `src/lib/utils.ts` | å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| **ã‚µãƒ³ãƒ—ãƒ«å•†å“ãƒ‡ãƒ¼ã‚¿** | `src/lib/sample-products.ts` | å•†å“ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ |

### ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | å†…å®¹ |
|------|-------------|------|
| **é¡§å®¢ãƒ»ä¼‘çœ ãƒ»åˆ†æç”¨** | `src/data/mock/customerData.ts` | é¡§å®¢ãƒ»ä¼‘çœ ãƒ»åˆ†æç”¨ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆå‹å®šç¾©å«ã‚€ï¼‰ |

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|---------------|-------------|------|
| **å•†å“API** | `src/app/api/shopify/products/route.ts` | å•†å“ãƒ‡ãƒ¼ã‚¿å–å¾— |
| **æ³¨æ–‡API** | `src/app/api/shopify/orders/route.ts` | æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿å–å¾— |
| **é¡§å®¢API** | `src/app/api/shopify/customers/route.ts` | é¡§å®¢ãƒ‡ãƒ¼ã‚¿å–å¾— |

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»UI
| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | è²¬ä»» |
|------|-------------|------|
| **ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ** | `src/components/layout/MainLayout.tsx` | ã‚¢ãƒ—ãƒªå…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ |
| **ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ** | `src/components/layout/AnalyticsPageLayout.tsx` | åˆ†æãƒšãƒ¼ã‚¸ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ |
| **UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | `src/components/ui/` | shadcn/uiåŸºç›¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| **å…±é€šéƒ¨å“** | `src/components/common/` | æ±ç”¨éƒ¨å“ï¼ˆKPICardç­‰ï¼‰ |

---

## ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°ï¼ˆ2025å¹´6æœˆ16æ—¥æ›´æ–°ï¼‰

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³
```mermaid
graph TD
    A[Shopify Store] --> B[Shopify GraphQL/REST API]
    B --> C[Azure App Service<br/>ASP.NET Core API]
    C --> D[Entity Framework Core]
    D --> E[Azure SQL Database]
    
    F[Next.js Frontend] --> C
    C --> G[Authentication<br/>JWT + OAuth 2.0]
    C --> H[Data Processing<br/>Analytics Engine]
    H --> I[Business Logic Layer]
    I --> J[Dashboard Components]
    
    K[Azure Key Vault] --> C
    L[Azure Application Insights] --> C
    M[GitHub Actions] --> N[Azure Deployment]
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆï¼‰
```mermaid
sequenceDiagram
    participant S as Shopify Store
    participant API as ASP.NET Core API
    participant DB as Azure SQL Database  
    participant UI as Next.js Frontend
    
    S->>API: Webhook/API Call
    API->>DB: Entity Framework Query
    DB-->>API: Raw Data
    API->>API: Business Logic Processing
    API-->>UI: JSON Response
    UI->>UI: React State Management
    UI-->>User: Dashboard Display
```

### çŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆZustandï¼‰
```typescript
// Zustand Store ã«ã‚ˆã‚‹è»½é‡çŠ¶æ…‹ç®¡ç†
interface AppStore {
  // UIçŠ¶æ…‹
  activeTab: "sales" | "customers" | "ai"
  selectedPeriod: DateRange
  isLoading: boolean
  
  // ãƒ‡ãƒ¼ã‚¿çŠ¶æ…‹
  analyticsData: AnalyticsData | null
  error: string | null
  
  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  setActiveTab: (tab: string) => void
  fetchAnalyticsData: () => Promise<void>
  refreshData: () => void
}

// React Query ã«ã‚ˆã‚‹ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç®¡ç†
const useAnalyticsData = () => {
  return useQuery({
    queryKey: ['analytics', selectedPeriod],
    queryFn: () => api.getAnalyticsData(selectedPeriod),
    staleTime: 5 * 60 * 1000, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  })
}
```

### APIçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼‰
```typescript
// ASP.NET Core API Controller
[ApiController]
[Route("api/[controller]")]
public class AnalyticsController : ControllerBase
{
    private readonly IAnalyticsService _analyticsService;
    
    [HttpGet("sales-trends")]
    public async Task<IActionResult> GetSalesTrends(
        [FromQuery] DateTime startDate, 
        [FromQuery] DateTime endDate)
    {
        var trends = await _analyticsService.GetSalesTrendsAsync(startDate, endDate);
        return Ok(trends);
    }
}

// Next.js API Client
export class ApiClient {
  private baseUrl = process.env.NEXT_PUBLIC_API_URL;
  
  async getSalesTrends(startDate: Date, endDate: Date): Promise<SalesTrend[]> {
    const response = await fetch(
      `${this.baseUrl}/api/analytics/sales-trends?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`,
      { headers: { Authorization: `Bearer ${await getToken()}` } }
    );
    return response.json();
  }
}

// Entity Framework Data Access
public class AnalyticsService : IAnalyticsService
{
    private readonly ApplicationDbContext _context;
    
    public async Task<List<SalesTrend>> GetSalesTrendsAsync(DateTime startDate, DateTime endDate)
    {
        return await _context.Orders
            .Where(o => o.CreatedAt >= startDate && o.CreatedAt <= endDate)
            .GroupBy(o => new { o.ProductId, o.CreatedAt.Date })
            .Select(g => new SalesTrend { ... })
            .ToListAsync();
    }
}
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```typescript
// JWTèªè¨¼ + Shopify OAuthçµ±åˆ
interface SecurityLayer {
  // èªè¨¼
  shopifyOAuth: ShopifyOAuthProvider
  jwtTokens: JWTManager
  
  // èªå¯
  roleBasedAccess: RoleManager
  apiKeyValidation: ApiKeyValidator
  
  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
  rateLimiting: RateLimiter
  dataEncryption: AzureKeyVault
  auditLogging: ApplicationInsights
}
```

### ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ
- `src/data/mock/customerData.ts` ã«ã¦ã€é¡§å®¢ãƒ»ä¼‘çœ ãƒ»åˆ†æç”¨ã®å‹å®šç¾©ã¨ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€å…ƒç®¡ç†ã€‚
- å®Ÿãƒ‡ãƒ¼ã‚¿ã¨åŒç­‰ã®å‹å®‰å…¨æ€§ã‚’æ‹…ä¿ã€‚
- é–‹ç™º/æœ¬ç•ªã§DataProviderç­‰ã§åˆ‡æ›¿å¯èƒ½ã€‚

---

## âš ï¸ æŠ€è¡“çš„è² å‚µã¨æ”¹å–„ç‚¹

### ğŸ”´ é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«å•é¡Œï¼ˆé«˜å„ªå…ˆåº¦ï¼‰
- UIéƒ¨å“ã¯ `src/components/ui/` ã«é›†ç´„ã€‚é‡è¤‡/åˆ†æ•£ã¯è§£æ¶ˆæ¸ˆã¿ã€‚
- ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã¯ `@/components/ui/` ã§çµ±ä¸€ã€‚

### ğŸŸ¡ å¤§è¦æ¨¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå•é¡Œï¼ˆä¸­å„ªå…ˆåº¦ï¼‰
- `dashboards/` é…ä¸‹ã§ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ†å‰²ãƒ»ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã‚’æ¨é€²ã€‚
- 1000è¡Œè¶…ã®å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ®µéšçš„ã«åˆ†å‰²ä¸­ã€‚

### ğŸŸ¡ ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿å•é¡Œï¼ˆä¸­å„ªå…ˆåº¦ï¼‰
- ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¯ `src/data/mock/` ã«é›†ç´„ã€‚
- DataServiceç­‰ã§é–‹ç™º/æœ¬ç•ªåˆ‡æ›¿ã‚’å®Ÿè£…ã€‚

### ğŸŸ¢ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆä½å„ªå…ˆåº¦ï¼‰
- å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»React.memoç­‰ã‚’ç©æ¥µæ´»ç”¨ã€‚

---

## ğŸ”„ ä»Šå¾Œã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»

- ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ†å‰²ãƒ»å‹å®šç¾©ã®å³å¯†åŒ–ãƒ»API/ãƒ‡ãƒ¼ã‚¿å±¤ã®æ•´ç†ã‚’ç¶™ç¶š
- ç”»é¢è¨­è¨ˆæ›¸ã®è¿½åŠ ãƒ»å„ç”»é¢å˜ä½ã§ã®è¨­è¨ˆæƒ…å ±ã®æ˜æ–‡åŒ–

---

## ğŸ¯ é–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»UIéƒ¨å“ã®å†åˆ©ç”¨ã‚’å¾¹åº•
- ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ†å‰²ãƒ»å‹å®‰å…¨æ€§ãƒ»ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’å³å®ˆ
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã¯é‡è¤‡ãƒ»ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãƒ»ç²’åº¦ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡ç‚¹ç¢ºèª

---

*æœ€çµ‚æ›´æ–°: 2025å¹´6æœˆ16æ—¥ï¼ˆAzure+ASP.NET Core ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆãƒ»åˆæœŸãƒªãƒªãƒ¼ã‚¹æ©Ÿèƒ½çµã‚Šè¾¼ã¿å¯¾å¿œï¼‰*
*ä½œæˆè€…: AI Assistant*
*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2.0.0* 