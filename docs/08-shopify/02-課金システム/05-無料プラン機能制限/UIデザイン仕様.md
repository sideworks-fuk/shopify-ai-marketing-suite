# 無料プラン機能選択 - UIデザイン仕様書
作成日: 2025-08-24
作成者: Kenji (PM)
バージョン: 1.0

## 🎨 画面設計

### 1. 初回機能選択画面

#### 画面レイアウト
```
┌────────────────────────────────────────────────────────┐
│  GEMiNX - 無料プランセットアップ                       │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  🎯 1つの機能を選んで始めましょう                 │ │
│  │                                                    │ │
│  │  無料プランでは、以下の3つの機能から1つを選んで   │ │
│  │  ご利用いただけます。                             │ │
│  │                                                    │ │
│  │  💡 ヒント: 月に1回まで変更可能です               │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │         休眠顧客分析                                │ │
│  │  ┌────────────────────────────────────────────┐  │ │
│  │  │  [プレビュー画像]                          │  │ │
│  │  │                                            │  │ │
│  │  │  ・休眠顧客の自動検出                      │  │ │
│  │  │  ・復活可能性スコアリング                  │  │ │
│  │  │  ・最適な復活施策の提案                    │  │ │
│  │  └────────────────────────────────────────────┘  │ │
│  │                                                    │ │
│  │  こんな方におすすめ:                              │ │
│  │  ✓ 休眠顧客の復活に取り組みたい                   │ │
│  │  ✓ 施策の優先度付けをしたい                       │ │
│  │  ✓ 復活効果を定量評価したい                       │ │
│  │                                                    │ │
│  │          [この機能を選択]                          │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │         前年同月比分析                              │ │
│  │  ┌────────────────────────────────────────────┐  │ │
│  │  │  [プレビュー画像]                          │  │ │
│  │  │                                            │  │ │
│  │  │  ・売上の前年同月比較                        │  │ │
│  │  │  ・カテゴリ別成長率の分析                    │  │ │
│  │  │  ・顧客セグメント推移の把握                  │  │ │
│  │  └────────────────────────────────────────────┘  │ │
│  │                                                    │ │
│  │  こんな方におすすめ:                              │ │
│  │  ✓ 業績のトレンド把握をしたい                     │ │
│  │  ✓ 成長/減速要因を特定したい                     │ │
│  │  ✓ 次の打ち手の優先度を決めたい                   │ │
│  │                                                    │ │
│  │          [この機能を選択]                          │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │         購入回数詳細分析                            │ │
│  │  ┌────────────────────────────────────────────┐  │ │
│  │  │  [プレビュー画像]                          │  │ │
│  │  │                                            │  │ │
│  │  │  ・購入回数別の顧客分布                      │  │ │
│  │  │  ・リピート率の推移分析                      │  │ │
│  │  │  ・次回購入予測                              │  │ │
│  │  └────────────────────────────────────────────┘  │ │
│  │                                                    │ │
│  │  こんな方におすすめ:                              │ │
│  │  ✓ リピートの増加に取り組みたい                   │ │
│  │  ✓ 次回購入タイミングを把握したい                 │ │
│  │  ✓ セグメント別の施策を最適化したい               │ │
│  │                                                    │ │
│  │          [この機能を選択]                          │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  [すべての機能を使いたい方は有料プランへ →]            │
└────────────────────────────────────────────────────────┘
```

### 2. 機能変更画面

#### 変更可能な場合
```
┌────────────────────────────────────────────────────────┐
│  機能の変更                                            │
│                                                        │
│  現在の選択: 🤖 AIマーケティング分析                   │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  ✅ 変更可能です                                   │ │
│  │  次回変更可能日: 2025年9月24日                    │ │
│  └──────────────────────────────────────────────────┘ │
│                                                        │
│  [機能選択画面を表示...]                              │
│                                                        │
└────────────────────────────────────────────────────────┘
```

#### 変更不可の場合
```
┌────────────────────────────────────────────────────────┐
│  機能の変更                                            │
│                                                        │
│  現在の選択: 🤖 AIマーケティング分析                   │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  ⏰ まだ変更できません                            │ │
│  │                                                    │ │
│  │  前回の変更: 2025年8月24日                        │ │
│  │  次回変更可能: 2025年9月24日                      │ │
│  │  残り日数: 30日                                    │ │
│  │                                                    │ │
│  │  💡 すべての機能を今すぐ使いたい場合は            │ │
│  │     有料プランへのアップグレードをご検討ください  │ │
│  │                                                    │ │
│  │     [プラン比較を見る]                            │ │
│  └──────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────┘
```

### 3. 機能制限通知

#### インライン制限通知
```
┌────────────────────────────────────────────────────────┐
│  前年同月比分析                                         │
│                                                        │
│  ┌──────────────────────────────────────────────────┐ │
│  │  🔒 この機能は選択されていません                   │ │
│  │                                                    │ │
│  │  前年同月比分析機能を利用するには:                │ │
│  │                                                    │ │
│  │  オプション1: 月次の機能変更で選択                │ │
│  │  （次回変更可能: 9月24日）                        │ │
│  │                                                    │ │
│  │  オプション2: 有料プランへアップグレード          │ │
│  │  すべての機能が即座に利用可能                     │ │
│  │                                                    │ │
│  │  [機能を変更] [プランをアップグレード]            │ │
│  └──────────────────────────────────────────────────┘ │
└────────────────────────────────────────────────────────┘
```

### 4. ダッシュボード表示

#### 無料プランステータスウィジェット
```
┌─────────────────────────────────────┐
│  プラン状態                         │
│                                     │
│  プラン: 無料                       │
│  選択機能: 休眠顧客分析              │
│  次回変更: 30日後                   │
│                                     │
│  [機能を変更] [アップグレード]      │
└─────────────────────────────────────┘
```

## 🎨 ビジュアルデザイン

### カラーパレット
```css
:root {
  --free-plan-primary: #6366F1;    /* インディゴ */
  --free-plan-secondary: #8B5CF6;  /* バイオレット */
  --selected-bg: #EEF2FF;          /* 選択時背景 */
  --disabled-bg: #F3F4F6;          /* 無効時背景 */
  --locked-border: #E5E7EB;        /* ロック枠線 */
  --upgrade-cta: #10B981;          /* アップグレードCTA */
}
```

### コンポーネントスタイル

#### FeatureCard
```scss
.feature-card {
  border: 2px solid var(--locked-border);
  border-radius: 12px;
  padding: 24px;
  transition: all 0.3s ease;
  
  &:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
  }
  
  &.selected {
    border-color: var(--free-plan-primary);
    background: var(--selected-bg);
  }
  
  &.disabled {
    opacity: 0.5;
    background: var(--disabled-bg);
    cursor: not-allowed;
  }
  
  .feature-icon {
    font-size: 48px;
    margin-bottom: 16px;
  }
  
  .feature-title {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 12px;
  }
  
  .feature-benefits {
    list-style: none;
    padding: 0;
    
    li {
      padding: 8px 0;
      padding-left: 24px;
      position: relative;
      
      &:before {
        content: "✓";
        position: absolute;
        left: 0;
        color: var(--free-plan-primary);
      }
    }
  }
  
  .select-button {
    width: 100%;
    padding: 12px 24px;
    background: var(--free-plan-primary);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease;
    
    &:hover {
      background: var(--free-plan-secondary);
    }
    
    &:disabled {
      background: var(--disabled-bg);
      color: #9CA3AF;
      cursor: not-allowed;
    }
  }
}
```

## 📱 レスポンシブデザイン

### モバイル（< 768px）
- カードを縦積みレイアウト
- 機能詳細を折りたたみ式に
- CTAボタンを画面下部に固定

### タブレット（768px - 1024px）
- 2カラムグリッド
- 横スクロール可能

### デスクトップ（> 1024px）
- 3カラムグリッド
- ホバーエフェクト有効

## 🔄 インタラクション

### アニメーション
```javascript
// 選択時のアニメーション
const selectAnimation = {
  initial: { scale: 1 },
  animate: { scale: [1, 1.05, 1] },
  transition: { duration: 0.3 }
};

// ロック解除アニメーション
const unlockAnimation = {
  initial: { opacity: 0.5, filter: 'blur(2px)' },
  animate: { opacity: 1, filter: 'blur(0px)' },
  transition: { duration: 0.5 }
};
```

### マイクロインタラクション
1. **選択時**: パルスアニメーション + 成功音
2. **ホバー時**: カードの浮き上がり効果
3. **制限到達時**: シェイクアニメーション
4. **アップグレード促進**: CTAボタンのパルス

## 📊 A/Bテスト案

### バリエーション1: アイコン中心
- 大きなアイコンとシンプルな説明

### バリエーション2: スクリーンショット中心
- 実際の画面キャプチャを表示

### バリエーション3: ベネフィット中心
- ROIや効果を数値で表示

## 🌐 多言語対応

### 対応言語
- 日本語（デフォルト）
- 英語
- 中国語（簡体字）

### 翻訳キー例
```json
{
  "free_plan": {
    "title": {
      "ja": "無料プランセットアップ",
      "en": "Free Plan Setup",
      "zh": "免费计划设置"
    },
    "select_feature": {
      "ja": "1つの機能を選んで始めましょう",
      "en": "Choose one feature to get started",
      "zh": "选择一个功能开始"
    }
  }
}
```

## 📱 実装コード例

### React コンポーネント
```tsx
// frontend/src/app/billing/free-plan-setup/page.tsx
import { useState } from 'react';
import { FeatureSelector } from '@/components/billing/FeatureSelector';
import { useFreePlanFeature } from '@/hooks/useFreePlanFeature';

export default function FreePlanSetup() {
  const { selectFeature, canChange, nextChangeDate } = useFreePlanFeature();
  const [isSelecting, setIsSelecting] = useState(false);
  
  const handleFeatureSelect = async (featureId: string) => {
    setIsSelecting(true);
    try {
      await selectFeature(featureId);
      // 成功時の処理
    } catch (error) {
      // エラー処理
    } finally {
      setIsSelecting(false);
    }
  };
  
  return (
    <div className="free-plan-setup">
      <FeatureSelector
        onSelect={handleFeatureSelect}
        canChange={canChange}
        isLoading={isSelecting}
      />
    </div>
  );
}
```

---

このUIデザイン仕様に基づいて、ユーザーフレンドリーな機能選択体験を実装できます。