# 💰 課金システムドキュメント

## 概要
Shopify AI Marketing Suiteの課金システムに関するすべての文書を管理しています。

---

## 📁 フォルダ構成

> **このフォルダの役割**: Shopify課金システムの**仕様・設計の正本**を管理  
> **対象者**: 全関係者（経営層、ビジネス担当、開発者、PM、運用担当）  
> **関連フォルダ**: [00-production-release/04-billing-system](../../00-production-release/04-billing-system/) - 本番リリース実務用

### 01-ビジネス向け
**対象**: 経営層・ビジネス担当者（非エンジニア）
- **エグゼクティブサマリー.md** - 1ページの概要説明
- **ビジネス実装レポート.md** - ROI分析とビジネスケース
- **運用マニュアル-課金.md** - 運用手順
- **FAQ-課金.md** - よくある質問

### 02-技術仕様
**対象**: 開発者・アーキテクト
- **システム設計書.md** - 詳細な技術設計
- **フロー図解.md** - 10種類のMermaidフロー図
- **GraphQL_API最新仕様.md** - 2024年版Shopify API仕様
- **Shopifyサブスクリプション技術ガイド.md** - 実装ガイド

### 03-実装管理
**対象**: PM・プロジェクトリード
- **実装チェックリスト.md** - タスク管理と進捗確認
- **テストシナリオ一覧.md** - テスト計画
- **テスト仕様書-課金と無料プラン.md** - 詳細テスト仕様
- **テスト手順書-課金と無料プラン.md** - テスト実施手順

### 04-理解と運用
**対象**: 運用担当・サポート
- **Shopify課金システム完全ガイド.md** - 包括的ガイド
- **課金0円テスト完全手順書.md** - テスト環境構築

### 05-無料プラン機能制限
**対象**: 全階層（機能特化ドキュメント）
- **要件定義書.md** ⭐ **正本** - 詳細な要件定義
- **要件定義と設計.md** - 高レベル設計
- **技術設計詳細書.md** - 実装仕様
- **UIデザイン仕様.md** - UI/UX設計
- **実装タスクリスト.md** - タスク管理

---

## 🚀 クイックスタート

### 読者別ガイド

| 対象者 | 最初に読むべき文書 | フォルダ |
|--------|------------------|---------|
| 経営層 | エグゼクティブサマリー | 01-ビジネス向け/ |
| ビジネス担当 | ビジネス実装レポート | 01-ビジネス向け/ |
| 開発者（新規） | システム設計書 | 02-技術仕様/ |
| 開発者（実装） | GraphQL_API最新仕様 | 02-技術仕様/ |
| PM | 実装チェックリスト | 03-実装管理/ |

---

## 💡 主要な情報

### 料金プラン（実装済み）
| プラン | 月額 | 無料期間 | 対象 |
|--------|------|---------|------|
| Starter | $50 | 7日間 | 小規模店舗 |
| Professional | $80 | 7日間 | 中規模店舗 |
| Enterprise | $100 | 14日間 | 大規模店舗 |

### 技術スタック
- **API**: Shopify GraphQL API (2024-01)
- **課金**: App Subscription API
- **Backend**: ASP.NET Core + C#
- **Frontend**: React + TypeScript

### 実装状況
- ✅ API設計完了
- ✅ データベース設計完了
- ✅ バックエンド実装完了
- 🔄 フロントエンドUI実装中
- ⏳ テスト実施予定

---

## 📊 重要な決定事項

### なぜRecurring Application Chargeを選んだか
1. **定期収益モデル** - 安定した月額収入
2. **Shopify標準** - 審査が通りやすい
3. **ユーザー体験** - Shopify管理画面で一元管理

### セキュリティ考慮
- Webhook署名検証（HMAC-SHA256）
- 冪等性の保証
- エラーハンドリング

---

## 📝 更新履歴

| 日付 | 内容 | 担当者 |
|------|------|--------|
| 2025-08-12 | フォルダ構造を日本語化・整理 | Kenji |
| 2025-08-12 | GraphQL API仕様を最新版に更新 | Kenji |
| 2025-08-12 | 初版作成 | Team |

---

## 🔗 関連リンク

### 内部ドキュメント
- [Shopify審査対策ガイド](../01-申請関連/shopify-審査対策完全ガイド.md)
- [GDPR対応](../04-GDPR対応/GDPR_Webhook仕様.md)

### 外部リソース
- [Shopify Billing API](https://shopify.dev/docs/apps/billing)
- [GraphQL Admin API](https://shopify.dev/docs/api/admin-graphql)

---

## 🔗 関連ドキュメント

### 本番リリース実務ドキュメント
課金システムの**リリース準備・実装確認**は以下を参照：
- 📋 [00-production-release/04-billing-system/](../../00-production-release/04-billing-system/)
  - 実装状況レポート
  - テストガイド
  - MVP仕様
  - リリースチェックリスト

---

**最終更新**: 2025年10月20日 17:00  
**更新者**: 福田 + AI Assistant