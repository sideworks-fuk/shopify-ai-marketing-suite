# トラブルシューティングガイド

## 1. データ同期関連の問題

### 1.1 同期が開始されない

#### 症状
- 「同期」ボタンをクリックしても反応がない
- エラーメッセージが表示される

#### 考えられる原因と対処法

**1. 認証エラー**
```
エラー: "認証に失敗しました"
対処法:
1. ページを再読み込み (F5)
2. 一度ログアウトして再ログイン
3. それでも解決しない場合は管理者に連絡
```

**2. 既に同期が実行中**
```
エラー: "同期は既に実行中です"
対処法:
1. 同期状況画面で進行中の同期を確認
2. 完了まで待機（通常5-30分）
3. 長時間停止している場合は管理者に連絡
```

**3. サーバー接続エラー**
```
エラー: "サーバーに接続できません"
対処法:
1. インターネット接続を確認
2. 5分後に再試行
3. 継続する場合は管理者に連絡
```

### 1.2 同期が途中で停止する

#### 症状
- 進捗バーが途中で止まる
- エラー状態に変わる

#### 対処法
1. **エラーメッセージを確認**
   - 画面に表示されるエラー内容をメモ
   - スクリーンショットを撮影

2. **再試行**
   - 「同期」ボタンを再度クリック
   - 停止した地点から再開される

3. **管理者への報告**
   - エラーメッセージ
   - 発生時刻
   - 同期していたデータ種類

### 1.3 同期データに不整合がある

#### 症状
- Shopifyの数値とアプリの数値が異なる
- 新しい商品が表示されない

#### 対処法
1. **フル同期の実行**
   ```
   手順:
   1. 「手動同期」→「すべてのデータ」
   2. 「過去1年間」を選択
   3. 同期実行
   ```

2. **データ範囲の確認**
   - 同期設定で対象期間を確認
   - 必要に応じて範囲を拡大

3. **キャッシュクリア**
   - ブラウザのキャッシュをクリア
   - ページを再読み込み

## 2. 表示・パフォーマンス関連の問題

### 2.1 ページの読み込みが遅い

#### 症状
- 画面の表示に時間がかかる
- スケルトンローダーが長時間表示される

#### 対処法
1. **データ量の確認**
   - 大量データの分析は時間がかかる
   - 分析期間を短縮して試行

2. **ブラウザの最適化**
   ```
   推奨設定:
   - Chrome/Edge の最新版を使用
   - 不要なタブを閉じる
   - 拡張機能を無効化（テスト）
   ```

3. **ネットワークの確認**
   - インターネット接続速度をテスト
   - Wi-Fiの場合は有線LANに変更

### 2.2 グラフ・チャートが表示されない

#### 症状
- グラフエリアが空白
- エラーメッセージが表示される

#### 対処法
1. **データの存在確認**
   - 該当期間にデータがあるか確認
   - 期間を拡大して再試行

2. **ブラウザの互換性**
   ```
   対応ブラウザ:
   - Chrome 90以上
   - Edge 90以上
   - Firefox 88以上
   - Safari 14以上
   ```

3. **JavaScript の有効化**
   - ブラウザ設定でJavaScriptが有効か確認

### 2.3 レスポンシブ表示の問題

#### 症状
- スマートフォンで表示が崩れる
- タブレットで操作しにくい

#### 対処法
1. **推奨デバイス・解像度**
   ```
   デスクトップ: 1920x1080以上
   タブレット: 1024x768以上
   スマートフォン: 375x667以上
   ```

2. **ブラウザズーム設定**
   - ズーム倍率を100%に設定
   - 必要に応じて文字サイズを調整

## 3. 分析結果関連の問題

### 3.1 分析結果が表示されない

#### 症状
- 「データがありません」と表示される
- 分析画面が空白

#### 対処法
1. **データ期間の確認**
   - 選択期間にデータが存在するか確認
   - 期間を拡大して再検索

2. **フィルター設定の確認**
   - 厳しすぎるフィルターを緩和
   - 「すべて」を選択して再実行

3. **データ同期状況の確認**
   - 該当データが正常に同期されているか確認
   - 必要に応じて再同期実行

### 3.2 分析結果が予想と異なる

#### 症状
- 期待した数値と大幅に異なる
- トレンドが不自然

#### 確認ポイント
1. **データ範囲**
   - 分析対象期間
   - 含まれる/除外される条件

2. **計算方法**
   - 集計ロジックの確認
   - 重複除去の有無

3. **Shopify側での変更**
   - 商品カテゴリの変更
   - 顧客情報の更新
   - 注文ステータスの変更

## 4. エラーメッセージ別対処法

### 4.1 認証関連エラー

```
エラー: "セッションが期限切れです"
対処法:
1. ページを再読み込み
2. 再ログインを実行
3. 認証情報を再確認
```

```
エラー: "権限がありません"
対処法:
1. ユーザー権限を確認
2. 管理者に権限付与を依頼
3. 正しいアカウントでログインしているか確認
```

### 4.2 データ関連エラー

```
エラー: "データの取得に失敗しました"
対処法:
1. ネットワーク接続を確認
2. 5分後に再試行
3. 継続する場合は管理者に連絡
```

```
エラー: "データ形式が不正です"
対処法:
1. データ同期を再実行
2. Shopify側のデータを確認
3. 技術サポートに連絡
```

### 4.3 システム関連エラー

```
エラー: "システムエラーが発生しました"
対処法:
1. エラーコードをメモ
2. 時刻と実行していた操作を記録
3. 技術サポートに詳細を報告
```

## 5. パフォーマンス最適化

### 5.1 日常的な最適化

**ブラウザメンテナンス**
- 週1回のキャッシュクリア
- 不要なタブの整理
- 拡張機能の見直し

**データ管理**
- 定期的なデータ同期
- 不要な分析結果の削除
- 長期間未使用データの整理

### 5.2 大量データ処理時の注意点

**推奨する時間帯**
- 平日夜間（19:00-23:00）
- 土日祝日
- 業務時間外

**処理の分割**
- 年次分析は四半期単位で実行
- 大量商品の分析はカテゴリ別に分割
- 顧客分析は期間を短縮

## 6. 緊急時対応

### 6.1 緊急度の判定

**【高】即座に対応が必要**
- 全機能が利用できない
- データが破損している可能性
- セキュリティ上の問題

**【中】営業時間内に対応**
- 一部機能が利用できない
- データ同期が24時間以上停止
- パフォーマンスが著しく低下

**【低】定期メンテナンス時に対応**
- 軽微な表示の問題
- 使用頻度の低い機能の不具合

### 6.2 エスカレーション手順

1. **第1レベル**: ユーザー自身での対処（本ガイドを参照）
2. **第2レベル**: 社内IT担当者への相談
3. **第3レベル**: 技術サポートへの連絡
4. **第4レベル**: 開発チームへの緊急対応依頼

## 7. よくある質問への対処

### Q1: データの更新頻度は？
**A**: 自動同期は毎日1回（夜間）。手動同期で即時更新可能。

### Q2: 過去のデータはどこまで見られる？
**A**: Shopifyアカウント作成時点まで遡って分析可能。

### Q3: 複数店舗を同時に分析できる？
**A**: 現在は1店舗ずつの分析。店舗切替は設定画面から可能。

---

**作成者**: Yuki  
**作成日**: 2025-08-12  
**バージョン**: 1.0